{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/board-canvas/board-canvas.component.css","webpack:///./src/app/board-canvas/board-canvas.component.html","webpack:///./src/app/board-canvas/board-canvas.component.ts","webpack:///./src/app/head/head.component.css","webpack:///./src/app/head/head.component.html","webpack:///./src/app/head/head.component.ts","webpack:///./src/app/menu/menu.component.css","webpack:///./src/app/menu/menu.component.html","webpack:///./src/app/menu/menu.component.ts","webpack:///./src/app/new-game/new-game.component.css","webpack:///./src/app/new-game/new-game.component.html","webpack:///./src/app/new-game/new-game.component.ts","webpack:///./src/app/services/manager.service.ts","webpack:///./src/app/side/side.component.css","webpack:///./src/app/side/side.component.html","webpack:///./src/app/side/side.component.ts","webpack:///./src/app/status/status.component.css","webpack:///./src/app/status/status.component.html","webpack:///./src/app/status/status.component.ts","webpack:///./src/app/tool/tool.component.css","webpack:///./src/app/tool/tool.component.html","webpack:///./src/app/tool/tool.component.ts","webpack:///./src/app/utils/base/BoardMap.ts","webpack:///./src/app/utils/base/Command.ts","webpack:///./src/app/utils/base/CommandStack.ts","webpack:///./src/app/utils/base/GameState.ts","webpack:///./src/app/utils/base/GameStateStack.ts","webpack:///./src/app/utils/base/GameTree.ts","webpack:///./src/app/utils/base/Move.ts","webpack:///./src/app/utils/base/Node.ts","webpack:///./src/app/utils/base/Point.ts","webpack:///./src/app/utils/base/Rule.ts","webpack:///./src/app/utils/base/Stack.ts","webpack:///./src/app/utils/base/define.ts","webpack:///./src/app/utils/base/moves/BoardPlay.ts","webpack:///./src/app/utils/base/moves/BoardText.ts","webpack:///./src/app/utils/base/moves/Indicator.ts","webpack:///./src/app/utils/base/moves/Pass.ts","webpack:///./src/app/utils/base/moves/Ready.ts","webpack:///./src/app/utils/canvas/BoardTool.ts","webpack:///./src/app/utils/canvas/ColorTool.ts","webpack:///./src/app/utils/canvas/Layout.ts","webpack:///./src/app/utils/canvas/MoveTool.ts","webpack:///./src/app/utils/commands/ChangeStepLimit.ts","webpack:///./src/app/utils/commands/ClickBoard.ts","webpack:///./src/app/utils/commands/Goto.ts","webpack:///./src/app/utils/commands/MouseUpdate.ts","webpack:///./src/app/utils/commands/UpdateBackground.ts","webpack:///./src/app/utils/rules/Go.ts","webpack:///./src/app/utils/rules/Gomuku.ts","webpack:///./src/app/utils/rules/Renju.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \".ant-layout,\\r\\n.ant-layout-header,\\r\\n.ant-layout-footer,\\r\\n.ant-layout-sider,\\r\\n.ant-layout-content {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n  border: 0;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  background: rgb(191, 191, 191);\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.ant-layout-header {\\r\\n  height: 90px;\\r\\n  line-height: unset;\\r\\n  box-shadow: inset 0 -1px 0 rgba( 255, 255, 250, 0.6), inset 0 -2px 0 rgba( 0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.ant-layout-footer {\\r\\n  height: 30px;\\r\\n  line-height: 30px;\\r\\n  box-shadow: inset 0 1px 0 rgba( 255, 255, 250, 0.6), inset 0 2px 0 rgba( 0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.ant-layout-sider {\\r\\n  flex: unset !important;\\r\\n  min-width: unset !important;\\r\\n  max-width: unset !important;\\r\\n  width: 40% !important;\\r\\n  box-shadow: inset 1px 0 0 rgba( 255, 255, 250, 0.6), inset 2px 0 0 rgba( 0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.ant-layout-content {\\r\\n  flex: unset;\\r\\n  height: 100%;\\r\\n  width: 60%;\\r\\n}\\r\\n\"","module.exports = \"<nz-layout>\\n  <nz-header>\\n      <app-head></app-head>\\n  </nz-header>\\n  <nz-layout>\\n    <nz-content>\\n        <app-board-canvas></app-board-canvas>\\n    </nz-content>\\n    <nz-sider>\\n        <app-side></app-side>\\n    </nz-sider>\\n  </nz-layout>\\n  <nz-footer>\\n      <app-status></app-status>\\n  </nz-footer>\\n</nz-layout>\\n\"","import { Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: 'app.component.html',\n    styleUrls: ['./app.component.css'],\n    encapsulation: ViewEncapsulation.None,\n})\nexport class AppComponent {\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { AppComponent } from './app.component';\nimport { StatusComponent } from './status/status.component';\nimport { HeadComponent } from './head/head.component';\nimport { MenuComponent } from './menu/menu.component';\nimport { BoardCanvasComponent } from './board-canvas/board-canvas.component';\nimport { ManagerService } from './services/manager.service';\nimport { ToolComponent } from './tool/tool.component';\nimport { SideComponent } from './side/side.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { NgZorroAntdModule, NZ_I18N, zh_CN, en_US } from 'ng-zorro-antd';\nimport { registerLocaleData } from '@angular/common';\nimport zh from '@angular/common/locales/zh';\nimport en from '@angular/common/locales/en';\nimport { NewGameComponent } from './new-game/new-game.component';\n\nregisterLocaleData(en);\nregisterLocaleData(zh);\n\n@NgModule({\n  bootstrap: [\n    AppComponent\n  ],\n  declarations: [\n    AppComponent,\n    StatusComponent,\n    HeadComponent,\n    MenuComponent,\n    BoardCanvasComponent,\n    ToolComponent,\n    SideComponent,\n    NewGameComponent\n  ],\n  imports: [\n    FormsModule,\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    NgZorroAntdModule\n  ],\n  providers: [\n    ManagerService,\n    { provide: NZ_I18N, useValue: en_US }\n  ],\n  entryComponents: [\n    NewGameComponent,\n  ]\n})\nexport class AppModule { }\n","module.exports = \"div.board {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\ndiv.board canvas {\\r\\n  margin-top: 20px;\\r\\n  box-shadow: 0 15px 10px -10px rgba(0, 0, 0, 0.5), 0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"board\\\">\\n  <canvas width=\\\"500px\\\" height=\\\"500px\\\"></canvas>\\n</div>\"","import { Component, OnInit, AfterViewInit, ElementRef } from '@angular/core';\nimport { ManagerService } from '../services/manager.service';\nimport BoardTool from '../utils/canvas/BoardTool';\nimport GameState from '../utils/base/GameState';\n\n@Component({\n  selector: 'app-board-canvas',\n  templateUrl: './board-canvas.component.html',\n  styleUrls: ['./board-canvas.component.css']\n})\nexport class BoardCanvasComponent implements OnInit, AfterViewInit {\n\n  constructor(private manager: ManagerService, private elementRef: ElementRef) { }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n    const canvas = this.elementRef.nativeElement.querySelector('canvas');\n    if (canvas !== null && canvas instanceof HTMLCanvasElement) {\n      this.manager.setBoardHandler((state: GameState) => {\n        BoardTool.render(canvas, state);\n      });\n      canvas.addEventListener('click', (e) => this.click(canvas, e));\n      canvas.addEventListener('mouseover', (e) => this.hover(canvas, e));\n      canvas.addEventListener('mousemove', (e) => this.hover(canvas, e));\n      canvas.addEventListener('mouseout', (e) => this.hover(canvas, e));\n    }\n  }\n\n  private hover(canvas: HTMLCanvasElement, e: MouseEvent) {\n    const state = this.manager.current();\n    const position = BoardTool.getMousePsosition(canvas, e, state);\n    this.manager.updateIndicator(position);\n  }\n\n  private click(canvas: HTMLCanvasElement, e: MouseEvent) {\n    const state = this.manager.current();\n    const position = BoardTool.getMousePsosition(canvas, e, state);\n    this.manager.updateStones(position);\n  }\n\n}\n","module.exports = \"div.title {\\r\\n    display: inline-block;\\r\\n    margin: 0px;\\r\\n    padding: 2px 5px;\\r\\n    border: 0px;\\r\\n    font: normal 16px/normal \\\"Times New Roman\\\", Times, serif;\\r\\n    color: rgba(255,255,255,0.9);\\r\\n    text-overflow: clip;\\r\\n    background: linear-gradient(180deg, rgba(228,245,252,1) 0, rgba(191,232,249,1) 50%, rgba(159,216,239,1) 51%, rgba(42,176,237,1) 100%);\\r\\n    background-position: 50% 50%;\\r\\n    background-origin: padding-box;\\r\\n    background-clip: border-box;\\r\\n    background-size: auto auto;\\r\\n    text-shadow: -1px -1px 0 rgba(15,73,168,0.66) ;\\r\\n    width:100%;\\r\\n    height:30px;\\r\\n    line-height: 30px;\\r\\n}\\r\\n\\r\\ndiv.title i img{\\r\\n    height: 18px;\\r\\n}\"","module.exports = \"<div class=\\\"title\\\">\\n  <i>\\n    <img src=\\\"../../assets/logo256.png\\\" />\\n  </i>\\n  Game board for Go/Renju\\n</div>\\n<app-menu></app-menu>\\n<app-tool></app-tool>\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-head',\n  templateUrl: './head.component.html',\n  styleUrls: ['./head.component.css']\n})\nexport class HeadComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"div.menu{\\r\\n    height: 30px; \\r\\n    line-height: 30px;\\r\\n    box-shadow: inset 0 -1px 0 rgba( 255, 255, 250, 0.6), inset 0 -2px 0 rgba( 0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\ndiv.menu ul, div.menu ul li{\\r\\n    height: 26px;\\r\\n    line-height: 26px;\\r\\n}\\r\\n\\r\\ndiv.menu ul {\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    list-style: none;\\r\\n    width: 100%;\\r\\n    background-color: #fff;\\r\\n}\\r\\n\\r\\ndiv.menu ul li{\\r\\n    cursor: pointer;\\r\\n    display: inline-block;\\r\\n    width: 80px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\nul.subsubmenu {\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    list-style: none;\\r\\n    width: 100px;\\r\\n}\"","module.exports = \"<div class=\\\"menu\\\">\\n  <ul>\\n    <li>\\n      <nz-dropdown [nzTrigger]=\\\"'click'\\\">\\n        <a nz-dropdown>\\n          File\\n          <i class=\\\"anticon anticon-down\\\"></i>\\n        </a>\\n        <ul nz-menu>\\n          <li nz-menu-item (click)=\\\"newGame()\\\">New</li>\\n          <li nz-menu-item>Save As (todo)</li>\\n          <li nz-menu-divider></li>\\n          <li nz-menu-item>Export (todo)</li>\\n        </ul>\\n      </nz-dropdown>\\n    </li>\\n    <li>\\n      <nz-dropdown [nzTrigger]=\\\"'click'\\\">\\n        <a nz-dropdown>\\n          Edit\\n          <i class=\\\"anticon anticon-down\\\"></i>\\n        </a>\\n        <ul nz-menu>\\n          <li nz-menu-item (click)=\\\"undo()\\\">Undo</li>\\n          <li nz-menu-item (click)=\\\"redo()\\\">Redo</li>\\n          <li nz-menu-divider></li>\\n          <li nz-menu-item>Delete (todo)</li>\\n        </ul>\\n      </nz-dropdown>\\n    </li>\\n    <li>\\n      <nz-dropdown [nzTrigger]=\\\"'click'\\\">\\n        <a nz-dropdown>\\n          Move\\n          <i class=\\\"anticon anticon-down\\\"></i>\\n        </a>\\n        <ul nz-menu>\\n          <li nz-menu-item (click)=\\\"forward(1)\\\">Forward</li>\\n          <li nz-menu-item (click)=\\\"forward(5)\\\">Forward 5</li>\\n          <li nz-menu-item (click)=\\\"forward(20)\\\">Forward 20</li>\\n          <li nz-menu-item (click)=\\\"forward()\\\">End</li>\\n          <li nz-menu-divider></li>\\n          <li nz-menu-item (click)=\\\"backward(1)\\\">Backward</li>\\n          <li nz-menu-item (click)=\\\"backward(5)\\\">Backward 5</li>\\n          <li nz-menu-item (click)=\\\"backward(20)\\\">Backward 20</li>\\n          <li nz-menu-item (click)=\\\"backward()\\\">Start</li>\\n          <li nz-menu-divider></li>\\n          <li nz-menu-item>Next Branch (todo)</li>\\n          <li nz-menu-item>Previous Branch (todo)</li>\\n        </ul>\\n      </nz-dropdown>\\n    </li>\\n    <li>\\n      <nz-dropdown [nzTrigger]=\\\"'click'\\\">\\n        <a nz-dropdown>\\n          View\\n          <i class=\\\"anticon anticon-down\\\"></i>\\n        </a>\\n        <ul nz-menu>\\n          <li nz-submenu>\\n            <span title>Background Color</span>\\n            <ul class=\\\"subsubmenu\\\">\\n              <li nz-menu-item (click)=\\\"setBackground('None')\\\">\\n                <i *ngIf=\\\"background === 'None'\\\" class=\\\"anticon anticon-check-circle-o\\\"></i>\\n                <i *ngIf=\\\"background !== 'None'\\\" class=\\\"anticon\\\"></i>\\n                <span>None</span>\\n              </li>\\n              <li nz-menu-item (click)=\\\"setBackground('White')\\\">\\n                <i *ngIf=\\\"background === 'White'\\\" class=\\\"anticon anticon-check-circle-o\\\"></i>\\n                <i *ngIf=\\\"background !== 'White'\\\" class=\\\"anticon\\\"></i>\\n                <span>White</span>\\n              </li>\\n              <li nz-menu-item (click)=\\\"setBackground('Wood')\\\">\\n                <i *ngIf=\\\"background === 'Wood'\\\" class=\\\"anticon anticon-check-circle-o\\\"></i>\\n                <i *ngIf=\\\"background !== 'Wood'\\\" class=\\\"anticon\\\"></i>\\n                <span>Wood</span>\\n              </li>\\n            </ul>\\n          </li>\\n          <li nz-menu-item>Stone Style (todo)</li>\\n          <li nz-menu-divider></li>\\n          <li nz-submenu>\\n            <span title>Show Step Number</span>\\n            <ul class=\\\"subsubmenu\\\">\\n              <li nz-menu-item (click)=\\\"manager.updateShowLimit(0)\\\">\\n                <i *ngIf=\\\"manager.showStepLimit() === 0\\\" class=\\\"anticon anticon-check-circle-o\\\"></i>\\n                <i *ngIf=\\\"manager.showStepLimit() !== 0\\\" class=\\\"anticon\\\"></i>\\n                None\\n              </li>\\n              <li nz-menu-item (click)=\\\"manager.updateShowLimit(5)\\\">\\n                <i *ngIf=\\\"manager.showStepLimit() === 5\\\" class=\\\"anticon anticon-check-circle-o\\\"></i>\\n                <i *ngIf=\\\"manager.showStepLimit() !== 5\\\" class=\\\"anticon\\\"></i>\\n                Last 5\\n              </li>\\n              <li nz-menu-item (click)=\\\"manager.updateShowLimit(20)\\\">\\n                <i *ngIf=\\\"manager.showStepLimit() === 20\\\" class=\\\"anticon anticon-check-circle-o\\\"></i>\\n                <i *ngIf=\\\"manager.showStepLimit() !== 20\\\" class=\\\"anticon\\\"></i>\\n                Last 20</li>\\n              <li nz-menu-item (click)=\\\"manager.updateShowLimit(-1)\\\">\\n                <i *ngIf=\\\"manager.showStepLimit() === -1\\\" class=\\\"anticon anticon-check-circle-o\\\"></i>\\n                <i *ngIf=\\\"manager.showStepLimit() !== -1\\\" class=\\\"anticon\\\"></i>\\n                All</li>\\n            </ul>\\n          </li>\\n        </ul>\\n      </nz-dropdown>\\n    </li>\\n    <li>\\n      <nz-dropdown [nzTrigger]=\\\"'click'\\\">\\n        <a nz-dropdown>\\n          Tool\\n          <i class=\\\"anticon anticon-down\\\"></i>\\n        </a>\\n        <ul nz-menu>\\n          <li nz-menu-item>Count (todo)</li>\\n        </ul>\\n      </nz-dropdown>\\n    </li>\\n    <li>\\n      <nz-dropdown [nzTrigger]=\\\"'click'\\\">\\n        <a nz-dropdown>\\n          Help\\n          <i class=\\\"anticon anticon-down\\\"></i>\\n        </a>\\n        <ul nz-menu>\\n          <li nz-menu-item>Tutorial (todo)</li>\\n          <li nz-menu-divider></li>\\n          <li nz-menu-item (click)=\\\"about()\\\">About</li>\\n        </ul>\\n      </nz-dropdown>\\n    </li>\\n  </ul>\\n\\n</div>\\n\"","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { NzModalService } from 'ng-zorro-antd';\nimport { NewGameComponent } from '../new-game/new-game.component';\nimport { ManagerService } from '../services/manager.service';\nimport { BACKGROUND } from '../utils/base/define';\n\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.css'],\n})\nexport class MenuComponent implements OnInit {\n\n  background: string;\n\n  constructor(private manager: ManagerService, private modal: NzModalService) {\n    switch (this.manager.current().background) {\n      case BACKGROUND.None:\n        this.background = 'None';\n        break;\n      case BACKGROUND.White:\n        this.background = 'White';\n        break;\n      case BACKGROUND.Wood:\n        this.background = 'Wood';\n        break;\n      default:\n        throw new Error('Unknown Value');\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  setBackground(value: string) {\n    this.background = value;\n    switch (value) {\n      case 'None':\n        this.manager.updateBackground(BACKGROUND.None);\n        break;\n      case 'White':\n        this.manager.updateBackground(BACKGROUND.White);\n        break;\n      case 'Wood':\n        this.manager.updateBackground(BACKGROUND.Wood);\n        break;\n      default:\n        throw new Error('Unknown Value');\n    }\n  }\n\n  newGame() {\n    const diag = this.modal.create({\n      nzContent: NewGameComponent,\n      nzOnOk: (ref) => new Promise((resolve, reject) => {\n        this.manager.newGame(ref.size, ref.rule);\n        resolve();\n        // reject();\n      }).catch(() => console.log('Oops errors!')),\n      nzOnCancel: () => {\n        console.log('canceled!');\n      },\n    });\n    diag.open();\n  }\n\n  undo() {\n    this.manager.undo();\n  }\n\n  redo() {\n    this.manager.redo();\n  }\n\n  forward(steps?: number) {\n    this.manager.forward(steps);\n  }\n  backward(steps?: number) {\n    this.manager.backward(steps);\n  }\n\n  about() {\n    this.modal.info({\n      nzContent: '<h2>It is an in-progess project!</h2>'\n        + '<p>It use Angular + Ant Design for Angular (= UI library).</p>'\n        + '<p>I will remove the UI library in futrue, because it is really hard to be customized. </p>'\n        + '<p>contact: <a href=\"mailto:lhttjdr@gmail.com\">lhttjdr@gmail.com</a></p>',\n    }).open();\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<div>\\n  <div>\\n    <span>Rule: </span>\\n    <nz-select style=\\\"width: 120px;\\\" [(ngModel)]=\\\"ruleStr\\\">\\n        <nz-option nzValue=\\\"Go\\\" nzLabel=\\\"Go\\\"></nz-option>\\n        <nz-option nzValue=\\\"Renju\\\" nzLabel=\\\"Renju\\\"></nz-option>\\n        <nz-option nzValue=\\\"Gomuku\\\" nzLabel=\\\"Gomuku\\\"></nz-option>\\n    </nz-select>\\n  </div>\\n  <div *ngIf=\\\"ruleStr === 'Go'\\\">\\n    <span>Size: </span>\\n    <nz-radio-group [(ngModel)]=\\\"sizeStr\\\">\\n      <label nz-radio nzValue=\\\"9\\\">9</label>\\n      <label nz-radio nzValue=\\\"13\\\">13</label>\\n      <label nz-radio nzValue=\\\"19\\\">19</label>\\n    </nz-radio-group>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { NzModalComponent } from 'ng-zorro-antd';\nimport { ManagerService } from '../services/manager.service';\nimport { RULE } from '../utils/base/define';\n\n@Component({\n  selector: 'app-new-game',\n  templateUrl: './new-game.component.html',\n  styleUrls: ['./new-game.component.css']\n})\nexport class NewGameComponent implements OnInit {\n\n  ruleStr: string;\n  sizeStr: string;\n\n  constructor(private manager: ManagerService) {\n    if (this.manager.rule === RULE.GO) {\n      this.ruleStr = 'Go';\n    } else if (this.manager.rule === RULE.Renju) {\n      this.ruleStr = 'Renju';\n    }\n    this.sizeStr = this.manager.size.toString();\n  }\n\n  ngOnInit() {\n  }\n\n  get size(): number {\n    if (this.ruleStr === 'Go') {\n      return parseInt(this.sizeStr, 10);\n    } else {\n      return 15;\n    }\n  }\n\n  get rule(): RULE {\n    if (this.ruleStr === 'Go') {\n      return RULE.GO;\n    } else if (this.ruleStr === 'Renju') {\n      return RULE.Renju;\n    } else if (this.ruleStr === 'Gomuku') {\n      return RULE.Gomuku;\n    }\n    throw Error('Unknown Vaule!');\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { RULE, PLAYER, BACKGROUND } from '../utils/base/define';\nimport { NzTreeNodeOptions, NzTreeNode } from 'ng-zorro-antd';\nimport { Ptr } from '../utils/base/Node';\nimport BoardTool from '../utils/canvas/BoardTool';\nimport GameStateStack from '../utils/base/GameStateStack';\nimport CommandStack from '../utils/base/CommandStack';\nimport GameState from '../utils/base/GameState';\nimport Point from '../utils/base/Point';\nimport MouseUpdate from '../utils/commands/MouseUpdate';\nimport UpdateBack from '../utils/commands/UpdateBackground';\nimport ClickBoard from '../utils/commands/ClickBoard';\nimport Goto from '../utils/commands/Goto';\nimport UpdateBackground from '../utils/commands/UpdateBackground';\nimport ChangeStepLimit from '../utils/commands/ChangeStepLimit';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ManagerService {\n\n  public rule: RULE;\n  public start: PLAYER;\n  public size: number;\n  private states: GameStateStack;\n  private commands: CommandStack;\n\n  private boardHandler: (state: GameState) => void;\n  private treeViewHandler: (nodes: NzTreeNode[], expand: string[], select: string[]) => void;\n  private commentHandler: (comment: string) => void;\n  private toolBarHandler: (currentPath: Ptr[], leftMostPath: Ptr[], currentStep: number) => void;\n\n  constructor() {\n    this.size = 19;\n    this.rule = RULE.GO;\n    this.start = PLAYER.Black;\n    this.states = new GameStateStack(new GameState(19, RULE.GO, PLAYER.Black));\n    this.commands = new CommandStack();\n  }\n\n  // UI handlers = data -> UI\n  public setBoardHandler(handler: (state: GameState) => void) {\n    this.boardHandler = handler;\n    this.updateBoard();\n  }\n  public setTreeViewHandler(handler: (nodes: NzTreeNode[], expand: string[], select: string[]) => void): void {\n    this.treeViewHandler = handler;\n    this.updateTreeView();\n  }\n  public setCommentHandler(handler: (cmt: string) => void) {\n    this.commentHandler = handler;\n    this.updateComment();\n  }\n  public setToolBarHandler(handler: (currentPath: Ptr[], leftMostPath: Ptr[], currentStep: number) => void) {\n    this.toolBarHandler = handler;\n    this.updateToolBar();\n  }\n\n  // UI <- data = UI requset data, ask to change data\n  public updateIndicator(p: Point): void { // state no need state\n    const cmd = new MouseUpdate(this.states, p);\n    this.commands.execute(cmd);\n    this.updateUI();\n  }\n  public updateShowLimit(limit: number): void {\n    const cmd = new ChangeStepLimit(this.states, limit);\n    this.commands.execute(cmd);\n    this.updateUI();\n  }\n  public updateBackground(bg: BACKGROUND): void {\n    const cmd = new UpdateBackground(this.states, bg);\n    this.commands.execute(cmd);\n    this.updateUI();\n  }\n  public updateStones(p: Point): void {\n    const cmd = new ClickBoard(this.states, p);\n    this.commands.execute(cmd);\n    this.updateUI();\n  }\n  public saveComment(cmt: string): void {\n    this.states.current().tree.lastNodeRef().moveRef().comment = cmt;\n    this.updateUI();\n  }\n  public getComment(): string {\n    return this.states.current().tree.lastNodeRef().moveRef().comment;\n  }\n  public undo() {\n    this.commands.undo();\n    this.updateUI();\n  }\n  public redo() {\n    this.commands.redo();\n    this.updateUI();\n  }\n  public goto(ptr: Ptr): void {\n    const cmd = new Goto(this.states, ptr);\n    this.commands.execute(cmd);\n    this.updateUI();\n  }\n\n  public forward(steps?: number) {\n    const ptr = this.current().tree.forwardPtr(steps);\n    const cmd = new Goto(this.states, ptr);\n    this.commands.execute(cmd);\n    this.updateUI();\n  }\n\n  public backward(steps?: number) {\n    const ptr = this.current().tree.backwardPtr(steps);\n    const cmd = new Goto(this.states, ptr);\n    this.commands.execute(cmd);\n    this.updateUI();\n  }\n\n  public newGame(size: number, rule: RULE, start: PLAYER = PLAYER.Black): void {\n    this.size = size;\n    this.rule = rule;\n    this.start = start;\n    this.states = new GameStateStack(new GameState(size, rule, start));\n    this.commands = new CommandStack();\n    this.updateUI();\n  }\n\n  public current(): GameState {\n    return this.states.current();\n  }\n  public canUndo(): boolean {\n    return this.commands.canUndo();\n  }\n  public canRedo(): boolean {\n    return this.commands.canRedo();\n  }\n  public showStepLimit(): number {\n    return this.current().showStepLimit;\n  }\n\n  // data -> UI\n  private updateUI() {\n    this.updateTreeView();\n    this.updateComment();\n    this.updateBoard();\n    this.updateToolBar();\n  }\n  private updateTreeView() {\n    if (this.treeViewHandler !== null) {\n      const tree = this.current().tree;\n      const nodes = [new NzTreeNode(this.tree())];\n      const last = tree.getLastPtr();\n      const select = [last.toString()];\n      const path = tree.getPathPtr(last);\n      const expand = ['0'].concat(path.map(ptr => ptr.toString()));\n      this.treeViewHandler(nodes, expand, select);\n    }\n  }\n\n  private updateComment() {\n    if (this.commentHandler !== null) {\n      const tree = this.current().tree;\n      const last = tree.getLastPtr();\n      this.commentHandler(tree.findPtr(last).moveRef().comment);\n    }\n  }\n\n  private updateBoard() {\n    if (this.boardHandler !== null) {\n      this.boardHandler(this.current());\n    }\n  }\n\n  private updateToolBar() {\n    if (this.toolBarHandler !== null) {\n      const treeRef = this.current().tree;\n      const leftmost = treeRef.leftMostPath(0);\n      const last = treeRef.getLastPtr();\n      const currentPath = treeRef.leftMostPath(last);\n      const step = treeRef.getPathPtr(last).length;\n      this.toolBarHandler(currentPath, leftmost, step);\n    }\n  }\n\n  private tree(): NzTreeNodeOptions {\n    const tree = {\n      title: 'Information',\n      key: '0',\n      type: 'info',\n      children: [],\n      isLast: this.current().tree.getLastPtr() === 0,\n    };\n    const gametree = this.current().tree;\n    const first = gametree.firstLevel();\n    tree.children = first.slice();\n    this.convertChildren(tree);\n    return tree;\n  }\n\n  private convertChildren(tree: any): void {\n    const children: Ptr[] = tree.children as Ptr[];\n    const lastPtr = this.current().tree.getLastPtr();\n    for (let i = 0; i < children.length; i++) {\n      const ptr = children[i];\n      const move = this.current().tree.findPtr(ptr).moveRef();\n      const next = this.current().tree.nextLevelOf(ptr);\n      if (next.length === 0) { // Leaf\n        tree.children[i] = {\n          title: move.show(),\n          key: ptr.toString(),\n          type: move.player === PLAYER.Black ? 'black' : 'white',\n          isLeaf: true,\n          selectable: false,\n          isLast: lastPtr === ptr,\n        };\n      } else {\n        tree.children[i] = {\n          title: move.show(),\n          key: ptr.toString(),\n          type: move.player === PLAYER.Black ? 'black' : 'white',\n          children: next.slice(),\n          selectable: false,\n          isLast: lastPtr === ptr,\n        };\n        this.convertChildren(tree.children[i]);\n      }\n    }\n  }\n}\n","module.exports = \"div {\\r\\n  padding: 2px;\\r\\n}\\r\\n\\r\\ndiv.comment {\\r\\n  box-shadow: inset 0 -1px 0 rgba( 255, 255, 250, 0.6), inset 0 -2px 0 rgba( 0, 0, 0, 0.1);\\r\\n  height: 30%;\\r\\n}\\r\\n\\r\\ndiv.comment textarea {\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\ndiv.gametree {\\r\\n  background-color: #fff;\\r\\n  height: 70%;\\r\\n  width: 100%;\\r\\n  overflow-y: auto;\\r\\n}\\r\\n\\r\\n.ant-tree {\\r\\n\\r\\n}\\r\\n\\r\\n.ant-tree li {\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\n.ant-tree.ant-tree-show-line li span.ant-tree-switcher {\\r\\n    background: #fff;\\r\\n    padding: 0;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.custom-node {\\r\\n  padding: 0 5px;\\r\\n  min-width: 20px;\\r\\n  cursor: pointer;\\r\\n  display: inline-block;\\r\\n}\\r\\n\\r\\n.last {\\r\\n  border: 2px dotted #1890ff;\\r\\n  min-width: 20px;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\ni.icon {\\r\\n  display: inline-block;\\r\\n  width: 15px;\\r\\n  height: 15px;\\r\\n  background-repeat: no-repeat;\\r\\n  vertical-align: middle;\\r\\n  background-size: cover;\\r\\n}\\r\\n\\r\\n.white {\\r\\n  background: rgb(255, 255, 255);\\r\\n  border: 1px solid #000;\\r\\n  border-radius: 50%;\\r\\n  display: inline-block;\\r\\n  height: 20px;\\r\\n  margin-left: 4px;\\r\\n  margin-right: 4px;\\r\\n  width: 20px;\\r\\n}\\r\\n\\r\\n.black {\\r\\n  background: rgb(0, 0, 0);\\r\\n  border: 1px solid #000;\\r\\n  border-radius: 50%;\\r\\n  display: inline-block;\\r\\n  height: 20px;\\r\\n  margin-left: 4px;\\r\\n  margin-right: 4px;\\r\\n  width: 20px;\\r\\n}\\r\\n\\r\\n.info {\\r\\n  color: #fff;\\r\\n  background: #2385BA;\\r\\n  border: 1px solid #2385BA;\\r\\n  border-radius: 50%;\\r\\n  display: inline-block;\\r\\n  font-weight: bold;\\r\\n  font-style: italic;\\r\\n  text-align: center;\\r\\n  height: 20px;\\r\\n  font-size: 12px;\\r\\n  line-height: 12px;\\r\\n  margin-left: 4px;\\r\\n  margin-right: 4px;\\r\\n  width: 20px;\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"comment\\\">\\n    <textarea row=\\\"4\\\" nz-input [(ngModel)]=\\\"comment\\\" (ngModelChange)=\\\"onChange($event)\\\"></textarea>\\n</div>\\n<div class=\\\"gametree\\\">\\n    <nz-tree\\n             [(ngModel)]=\\\"nodes\\\"\\n             [nzShowLine]=\\\"true\\\"\\n             [nzDefaultExpandedKeys]=\\\"expandKeys\\\"\\n             (nzExpandChange)=\\\"mouseAction('expand',$event)\\\"\\n             (nzDblClick)=\\\"mouseAction('dblclick',$event)\\\"\\n             (nzContextMenu)=\\\"mouseAction('contextmenu', $event)\\\"\\n             (nzClick)=\\\"mouseAction('click',$event)\\\">\\n             <ng-template #nzTreeTemplate let-node>\\n                <span class=\\\"custom-node\\\" [class.active]=\\\"node.isSelected\\\">\\n                  <span>\\n                    <i class=\\\"icon info\\\" *ngIf=\\\"node.origin.type === 'info'\\\">i</i>\\n                    <i class=\\\"icon black\\\" *ngIf=\\\"node.origin.type === 'black'\\\"></i>\\n                    <i class=\\\"icon white\\\" *ngIf=\\\"node.origin.type === 'white'\\\"></i> \\n                    <span [class.last]=\\\"node.origin.isLast\\\">{{node.title}}</span>\\n                  </span>\\n                </span>\\n              </ng-template>\\n    </nz-tree>\\n</div>\"","import { Component, OnInit, ViewEncapsulation, ElementRef } from '@angular/core';\nimport { ManagerService } from '../services/manager.service';\nimport { NzTreeNode, NzTreeNodeOptions } from 'ng-zorro-antd';\nimport { Ptr } from '../utils/base/Node';\n\n@Component({\n  selector: 'app-side',\n  templateUrl: './side.component.html',\n  styleUrls: ['./side.component.css'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class SideComponent implements OnInit {\n  comment: string;\n  expandKeys = ['0'];\n  selectedKeys = [];\n  expandDefault = false;\n  nodes = [new NzTreeNode({\n    title: 'Information',\n    key: '0',\n    type: 'info',\n    isLeaf: true,\n  })];\n\n  onChange(value: string) {\n    if (this.manager !== null) {\n      this.manager.saveComment(value);\n    }\n  }\n\n  mouseAction(name: string, e: any): void {\n    if (this.manager !== null) {\n      switch (name) {\n        case 'click':\n          const ptr: Ptr = parseInt(e.node.key, 10);\n          this.manager.goto(ptr);\n          this.selectedKeys = [e.node.key];\n          break;\n      }\n    }\n  }\n\n  constructor(private manager: ManagerService, private myElement: ElementRef) {\n    this.manager.setTreeViewHandler((nodes, expand, select) => {\n      this.nodes = nodes;\n      this.expandKeys = expand;\n      this.selectedKeys = select;\n      const last = this.myElement.nativeElement.querySelector('span.last');\n      if (last !== null) {\n        last.scrollIntoView();\n      }\n    });\n    this.manager.setCommentHandler((cmt: string) => {\n      this.comment = cmt;\n    });\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".footer{\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n.footer .message{\\r\\n    float: left;\\r\\n    text-align: left;\\r\\n    height:100%;\\r\\n    vertical-align: middle;\\r\\n    width: 50%;\\r\\n}\\r\\n.footer ul{\\r\\n    float: right;\\r\\n    list-style: none;\\r\\n    text-align: right;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    height: 100%;\\r\\n    width: 50%;\\r\\n}\\r\\n.footer ul li{\\r\\n    display: inline-block;\\r\\n    height: 100%;\\r\\n    vertical-align: middle;\\r\\n    text-align: left;\\r\\n}\"","module.exports = \"<div class=\\\"footer\\\">\\n    <div class=\\\"message\\\">Ready</div>\\n    <ul>\\n        <li></li>\\n        <li style=\\\"width:150px;\\\">{{forbidden}}</li>\\n        <li style=\\\"width:50px;\\\">{{position}}</li>\\n        <li style=\\\"width:50px;\\\">{{rule}}</li>\\n        <li style=\\\"width:50px;\\\">{{size}}x{{size}}</li>\\n    </ul>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { ManagerService } from '../services/manager.service';\nimport { FORBIDDEN, RULE } from '../utils/base/define';\n\n@Component({\n  selector: 'app-status',\n  templateUrl: './status.component.html',\n  styleUrls: ['./status.component.css']\n})\nexport class StatusComponent implements OnInit {\n\n  get position(): string {\n    const indicator = this.manager.current().indicator;\n    if (indicator !== null) {\n      return indicator.show();\n    }\n    return '--';\n  }\n\n  get forbidden(): string {\n    const f = this.manager.current().indicator;\n    if (f !== null) {\n      switch (f.type) {\n        case FORBIDDEN.Suicide:\n          return 'suicide';\n        case FORBIDDEN.None:\n          return '--';\n        case FORBIDDEN.Repetition:\n          return 'forbidden by Ko rule';\n        case FORBIDDEN.DoubleThree:\n          return 'double three';\n        case FORBIDDEN.DoubleFour:\n          return 'double four';\n        case FORBIDDEN.Overline:\n          return 'overline';\n      }\n    }\n    return '--';\n  }\n\n  get rule(): string {\n    if (this.manager.rule === RULE.GO) {\n      return 'Go';\n    } else {\n      return 'Renju';\n    }\n  }\n\n  get size(): number {\n    return this.manager.size;\n  }\n\n  constructor(private manager: ManagerService) { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"div.toolbar {\\r\\n  height: 30px;\\r\\n  line-height: 30px;\\r\\n  box-shadow: inset 0 -1px 0 rgba( 255, 255, 250, 0.6), inset 0 -2px 0 rgba( 0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\ndiv.toolbar ul,\\r\\ndiv.toolbar ul li {\\r\\n  height: 26px;\\r\\n  line-height: 26px;\\r\\n}\\r\\n\\r\\ndiv.toolbar ul {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n  list-style: none;\\r\\n  width: 100%;\\r\\n  background-color: #fff;\\r\\n}\\r\\n\\r\\ndiv.toolbar ul li {\\r\\n  cursor: pointer;\\r\\n  display: inline-block;\\r\\n  text-align: center;\\r\\n  width: 30px;\\r\\n}\\r\\n\\r\\ndiv.toolbar ul li.stepinput {\\r\\n  width: auto;\\r\\n  margin-left: 5px;\\r\\n}\\r\\n\\r\\ndiv.toolbar ul li.disabled {\\r\\n  cursor: not-allowed;\\r\\n}\\r\\n\\r\\ni.anticon.flipH {\\r\\n  -webkit-transform: scaleX(-1);\\r\\n  transform: scaleX(-1);\\r\\n  -webkit-filter: FlipH;\\r\\n          filter: FlipH;\\r\\n  -ms-filter: \\\"FlipH\\\";\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"toolbar\\\">\\n  <ul>\\n    <li [class.disabled]=\\\"!manager.canUndo()\\\">\\n      <a nz-tooltip nzTitle=\\\"undo\\\" (click)=\\\"manager.undo()\\\">\\n        <i class=\\\"anticon anticon-rollback\\\"></i>\\n      </a>\\n    </li>\\n    <li>\\n      <a nz-tooltip nzTitle=\\\"redo\\\" (click)=\\\"manager.redo()\\\">\\n        <i class=\\\"anticon anticon-rollback flipH\\\"></i>\\n      </a>\\n    </li>\\n    <li>\\n      <a nz-tooltip nzTitle=\\\"first move\\\" (click)=\\\"manager.backward()\\\">\\n        <i class=\\\"anticon anticon-fast-backward\\\"></i>\\n      </a>\\n    </li>\\n    <li>\\n      <a nz-tooltip nzTitle=\\\"fast backward\\\" (click)=\\\"manager.backward(20)\\\">\\n        <i class=\\\"anticon anticon-backward\\\"></i>\\n      </a>\\n    </li>\\n    <li>\\n      <a nz-tooltip nzTitle=\\\"step backward\\\" (click)=\\\"manager.backward(1)\\\">\\n        <i class=\\\"anticon anticon-caret-left\\\"></i>\\n      </a>\\n    </li>\\n    <li>\\n      <a nz-tooltip nzTitle=\\\"step forward\\\" (click)=\\\"manager.forward(1)\\\">\\n        <i class=\\\"anticon anticon-caret-right\\\"></i>\\n      </a>\\n    </li>\\n    <li>\\n      <a nz-tooltip nzTitle=\\\"fast forward\\\" (click)=\\\"manager.forward(20)\\\">\\n        <i class=\\\"anticon anticon-forward\\\"></i>\\n      </a>\\n    </li>\\n    <li>\\n      <a nz-tooltip nzTitle=\\\"last move\\\" (click)=\\\"manager.forward()\\\">\\n        <i class=\\\"anticon anticon-fast-forward\\\"></i>\\n      </a>\\n    </li>\\n    <li class=\\\"stepinput\\\">\\n        <nz-input-number [(ngModel)]=\\\"targetStep\\\" [nzMin]=\\\"0\\\" [nzMax]=\\\"maxStep\\\" [nzSize]=\\\"'small'\\\" [nzStep]=\\\"1\\\"></nz-input-number>\\n    </li>\\n    <li>\\n        <a (click)=\\\"jump()\\\" nz-tooltip nzTitle=\\\"Go\\\" ><i class=\\\"anticon anticon-enter\\\"></i></a>\\n    </li>\\n  </ul>\\n\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { ManagerService } from '../services/manager.service';\nimport { Ptr } from '../utils/base/Node';\n\n@Component({\n  selector: 'app-tool',\n  templateUrl: './tool.component.html',\n  styleUrls: ['./tool.component.css']\n})\nexport class ToolComponent implements OnInit {\n\n  leftmost: Ptr[];\n  currentPath: Ptr[];\n  targetStep: number;\n\n  get maxStep(): number {\n    return Math.max(this.currentPath.length, this.leftmost.length) - 1;\n  }\n\n  constructor(private manager: ManagerService) {\n    this.manager.setToolBarHandler((c: Ptr[], l: Ptr[], s: number) => {\n      this.leftmost = l;\n      this.currentPath = c;\n      this.targetStep = s;\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  jump() {\n    if (this.targetStep < this.currentPath.length) {\n      this.manager.goto(this.currentPath[this.targetStep]);\n    } else if (this.targetStep < this.leftmost.length) {\n      this.manager.goto(this.leftmost[this.targetStep]);\n    } else {\n      throw new Error('Out of range!');\n    }\n  }\n\n}\n","import BoardPlay from './moves/BoardPlay';\r\nimport Point from './Point';\r\n\r\nexport default class BoardMap {\r\n    private board: Array<Array<BoardPlay | null>>;\r\n    private last: Point | null;\r\n    constructor(size: number) {\r\n        this.board = Array(size).fill(0).map(() => Array(size).fill(null));\r\n        this.last = null;\r\n    }\r\n\r\n    public clone(): BoardMap {\r\n        const size = this.board.length;\r\n        const boardMap = new BoardMap(size);\r\n        for (let i = 0; i < size; i++) {\r\n            for (let j = 0; j < size; j++) {\r\n                if (this.board[i][j] !== null) {\r\n                    boardMap.board[i][j] = this.board[i][j].clone();\r\n                }\r\n            }\r\n        }\r\n        if (this.last) {\r\n            boardMap.last = this.last.clone();\r\n        }\r\n        return boardMap;\r\n    }\r\n\r\n    public isSame(b: BoardMap): boolean {\r\n        const size = this.board.length;\r\n        for (let i = 0; i < size; i++) {\r\n            for (let j = 0; j < size; j++) {\r\n                if (this.board[i][j] === null && b.board[i][j] !== null) {\r\n                    return false;\r\n                }\r\n                if (this.board[i][j] !== null && b.board[i][j] === null) {\r\n                    return false;\r\n                }\r\n                if (this.board[i][j] !== null && b.board[i][j] !== null) {\r\n                    if (this.board[i][j].player !== b.board[i][j].player) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    at(p: Point): BoardPlay | null {\r\n        return this.board[p.x][p.y];\r\n    }\r\n\r\n    isLast(p: Point): boolean {\r\n        return this.last.equal(p);\r\n    }\r\n\r\n    put(m: BoardPlay): void {\r\n        this.board[m.position.x][m.position.y] = m.clone();\r\n        this.last = m.position.clone();\r\n    }\r\n\r\n    removeDead(p: Point): void {\r\n        this.board[p.x][p.y] = null;\r\n    }\r\n\r\n    removeLast(m: BoardPlay, last: Point | null): void {\r\n        this.board[m.position.x][m.position.y] = null;\r\n        this.last = null;\r\n        if (last !== null) {\r\n            this.last = last.clone();\r\n        }\r\n    }\r\n}\r\n","export default abstract class Command {\r\n    public abstract allowUndo = true;\r\n    public abstract subCommand = false;\r\n    public abstract execute(): void;\r\n    public abstract undo(): void;\r\n    public abstract redo(): void;\r\n}\r\n","import Command from '../base/Command';\r\nimport Stack from '../base/Stack';\r\n\r\nexport default class CommandStack {\r\n    private commandStack: Stack<Command> = new Stack();\r\n    private redoStack: Stack<Command> = new Stack();\r\n\r\n    public execute(command: Command): void {\r\n        command.execute();\r\n        if (command.allowUndo) {\r\n            this.commandStack.push(command);\r\n            this.redoStack.clear();\r\n        }\r\n    }\r\n\r\n    public undo(): void {\r\n        const command = this.commandStack.pop();\r\n        if (command === null) {\r\n            return;\r\n        }\r\n        command.undo();\r\n        this.redoStack.push(command);\r\n    }\r\n\r\n    public redo(): void {\r\n        const command = this.redoStack.pop();\r\n        if (command === null) {\r\n            return;\r\n        }\r\n        command.redo();\r\n        this.commandStack.push(command);\r\n    }\r\n\r\n    public canRedo(): boolean {\r\n        return this.redo.length > 0;\r\n    }\r\n    public canUndo(): boolean {\r\n        return this.undo.length > 0;\r\n    }\r\n}\r\n","import { RULE, BACKGROUND, MODE, PLAYER } from '../base/define';\r\nimport Layout from '../canvas/Layout';\r\nimport Point from '../base/Point';\r\nimport Move from '../base/Move';\r\nimport Indicator from './moves/Indicator';\r\nimport BoardPlay from './moves/BoardPlay';\r\nimport Pass from './moves/Pass';\r\nimport GameTree from './GameTree';\r\n\r\nexport default class GameState {\r\n    // basic info\r\n    public size: number;\r\n    public rule: RULE;\r\n    public start: PLAYER;\r\n    // board info\r\n    public indicator: Indicator | null = null;\r\n    public background: BACKGROUND = BACKGROUND.Wood;\r\n    public showCursor = true;\r\n    public showStepLimit = -1; // -1 for all, 0 for none\r\n    // history info\r\n    public tree: GameTree; // game record\r\n    //\r\n    public mode: MODE = MODE.Play;\r\n\r\n    constructor(size: number, rule: RULE, start: PLAYER) {\r\n        this.size = size;\r\n        this.rule = rule;\r\n        this.start = start;\r\n        this.tree = new GameTree(size);\r\n\r\n    }\r\n\r\n    public isOutBoard(p: Point): boolean {\r\n        return p.x < 0 || p.x >= this.size || p.y < 0 || p.y >= this.size;\r\n    }\r\n\r\n    public clone(): GameState {\r\n        const gs = new GameState(this.size, this.rule, this.start);\r\n        gs.indicator = null;\r\n        gs.background = this.background;\r\n        gs.showStepLimit = this.showStepLimit;\r\n        gs.showCursor = this.showCursor;\r\n        gs.mode = this.mode;\r\n        gs.tree = this.tree.clone();\r\n        return gs;\r\n    }\r\n\r\n    public move(m: Move): void {\r\n        const next = this.tree.findNextMove(m);\r\n        if (next.length === 0) {\r\n            this.tree.addNextMove(m);\r\n        } else {\r\n            this.tree.setLastPtr(next[0]);\r\n        }\r\n    }\r\n    public undoLastMove(): void {\r\n        const last = this.tree.getLastPtr();\r\n        const parent = this.tree.lastNodeRef().getParentPtr();\r\n        this.tree.setLastPtr(parent);\r\n        this.tree.removeNode(last);\r\n    }\r\n\r\n    public at(p: Point): BoardPlay | null {\r\n        return this.tree.lastNodeRef().boardRef().at(p);\r\n    }\r\n\r\n    public nextPlayer(): PLAYER {\r\n        const lastMoveRef = this.tree.lastNodeRef().moveRef();\r\n        if (lastMoveRef instanceof BoardPlay || lastMoveRef instanceof Pass) {\r\n            return lastMoveRef.player === PLAYER.Black ? PLAYER.White : PLAYER.Black;\r\n        }\r\n        return this.start;\r\n    }\r\n    public nextStep(): number {\r\n        const lastMoveRef = this.tree.lastNodeRef().moveRef();\r\n        if (lastMoveRef instanceof BoardPlay || lastMoveRef instanceof Pass) {\r\n            return lastMoveRef.step + 1;\r\n        }\r\n        return 1; // default from 1\r\n    }\r\n    public isPositionPlayer(p: Point, player: PLAYER): boolean {\r\n        const move = this.at(p);\r\n        if (move !== null) {\r\n            return move.player === player;\r\n        }\r\n        return false;\r\n    }\r\n    public isPositionEmpty(p: Point): boolean {\r\n        const move = this.at(p);\r\n        return move === null;\r\n    }\r\n}\r\n","import Stack from '../base/Stack';\r\nimport GameState from '../base/GameState';\r\nimport { RULE, FORBIDDEN, PLAYER } from '../base/define';\r\nimport Move from '../base/Move';\r\nimport Rule from '../base/Rule';\r\nimport Go from '../rules/Go';\r\nimport Renju from '../rules/Renju';\r\nimport Gomuku from '../rules/Gomuku';\r\n\r\nexport default class GameStateStack {\r\n\r\n    public checker: Rule;\r\n    private states: Stack<GameState> = new Stack<GameState>();\r\n    constructor(initial: GameState) {\r\n        this.states.push(initial);\r\n        this.checker = this.ruleChecker(initial.rule);\r\n    }\r\n\r\n    get size(): number {\r\n        return this.states.size;\r\n    }\r\n\r\n    public push(s: GameState): void {\r\n        this.states.push(s);\r\n    }\r\n\r\n    public pop(): GameState {\r\n        const top = this.current();\r\n        if (this.size > 1) {\r\n            this.states.pop();\r\n        }\r\n        return top;\r\n    }\r\n\r\n    public current(): GameState {\r\n        const cur = this.states.top();\r\n        if (cur === null) {\r\n            throw Error('Game State Stack is not initialized!');\r\n        }\r\n        return cur;\r\n    }\r\n\r\n    public boards(): GameState[] {\r\n        return this.states.vaules();\r\n    }\r\n\r\n    public forbiddenMove(m: Move): FORBIDDEN {\r\n        const [g, f] = this.checker.play(this, m);\r\n        return f;\r\n    }\r\n\r\n    private ruleChecker(rule: RULE): Rule {\r\n        switch (rule) {\r\n            case RULE.GO:\r\n                return new Go();\r\n            case RULE.Renju:\r\n                return new Renju();\r\n            case RULE.Gomuku:\r\n                return new Gomuku();\r\n        }\r\n        throw Error('No rule specified!');\r\n    }\r\n}\r\n","import { Node, Ptr, Nil } from './Node';\r\nimport Ready from './moves/Ready';\r\nimport BoardMap from './BoardMap';\r\nimport Move from './Move';\r\nimport BoardPlay from './moves/BoardPlay';\r\n\r\nexport default class GameTree {\r\n    private buff: Node[];\r\n    private last: Ptr;\r\n\r\n    constructor(size: number);\r\n    // tslint:disable-next-line:unified-signatures\r\n    constructor(tree: GameTree);\r\n    constructor(sizeOrTree: number | GameTree) {\r\n        if (typeof sizeOrTree === 'number') {\r\n            const size = sizeOrTree;\r\n            const emptyMove = new Ready();\r\n            const emptyBoard = new BoardMap(size);\r\n            const superRoot = new Node(emptyMove, emptyBoard);\r\n            superRoot.setParentPtr(Nil);\r\n            this.buff = [superRoot];\r\n            this.last = 0; // address of root is always 0\r\n        } else {\r\n            const tree = sizeOrTree;\r\n            this.buff = new Array(tree.buff.length);\r\n            for (let i = 0; i < tree.buff.length; i++) {\r\n                this.buff[i] = tree.buff[i].clone();\r\n            }\r\n            this.last = tree.last;\r\n        }\r\n    }\r\n\r\n    addNextMove(m: Move): void {\r\n        const current = this.buff[this.last];\r\n        const addr = this.buff.length;\r\n        if (m instanceof BoardPlay) {\r\n            const newBoard = current.boardRef().clone();\r\n            newBoard.put(m);\r\n            this.buff.push(new Node(m, newBoard));\r\n        } else {\r\n            this.buff.push(new Node(m, current.boardRef()));\r\n        }\r\n        current.addChildPtr(addr);\r\n        this.buff[addr].setParentPtr(this.last);\r\n        this.last = addr;\r\n    }\r\n\r\n    findNextMove(m: Move): Ptr[] {\r\n        const current = this.buff[this.last];\r\n        const children = current.getChildrenPtr();\r\n        return children.filter((x) => this.buff[x].isSame(m));\r\n    }\r\n\r\n    removeNode(ptr: Ptr): void { // NOTICE: lastPtr need fix after call this function\r\n        const parent = this.buff[ptr].getParentPtr();\r\n        this.buff[parent].removeChildPtr(ptr);\r\n        this.buff[ptr] = null;\r\n    }\r\n\r\n    clone(): GameTree {\r\n        return new GameTree(this);\r\n    }\r\n\r\n    lastNodeRef(): Node {\r\n        return this.buff[this.last];\r\n    }\r\n\r\n    findPtr(t: Ptr): Node {\r\n        return this.buff[t];\r\n    }\r\n\r\n    getPath(t: Ptr): Node[] {\r\n        let p = this.buff[t];\r\n        const path = [];\r\n        while (p.isRoot() === false) {\r\n            path.push(p);\r\n            p = this.buff[p.getParentPtr()];\r\n        }\r\n        return path.reverse();\r\n    }\r\n\r\n    getLast(): Node {\r\n        return this.buff[this.last];\r\n    }\r\n\r\n    getPathPtr(t: Ptr): Ptr[] {\r\n        let p = t;\r\n        const path = [];\r\n        while (this.buff[p].isRoot() === false) {\r\n            path.push(p);\r\n            p = this.buff[p].getParentPtr();\r\n        }\r\n        return path.reverse();\r\n    }\r\n\r\n    getLastPtr(): Ptr {\r\n        return this.last;\r\n    }\r\n\r\n    setLastPtr(t: Ptr) {\r\n        this.last = t;\r\n    }\r\n\r\n    forwardPtr(steps?: number): Ptr {\r\n        let ptr = this.last;\r\n        let children = this.buff[ptr].getChildrenPtr();\r\n        if (steps) {\r\n            while (children.length > 0 && steps > 0) {\r\n                ptr = children[0];\r\n                children = this.buff[ptr].getChildrenPtr();\r\n                steps -= 1;\r\n            }\r\n        } else {\r\n            while (children.length > 0) {\r\n                ptr = children[0];\r\n                children = this.buff[ptr].getChildrenPtr();\r\n            }\r\n        }\r\n        return ptr;\r\n    }\r\n\r\n    backwardPtr(steps?: number): Ptr {\r\n        if (steps) {\r\n            let ptr = this.last;\r\n            let parent = this.buff[ptr].getParentPtr();\r\n            while (parent !== Nil && steps > 0) {\r\n                ptr = parent;\r\n                parent = this.buff[ptr].getParentPtr();\r\n                steps -= 1;\r\n            }\r\n            return ptr;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public leftMostPath(ptr: Ptr): Ptr[] {\r\n        const previous = this.getPathPtr(ptr);\r\n        let children = this.buff[ptr].getChildrenPtr();\r\n        const following: Ptr[] = []; // does not include current ptr, because it's already in previous.\r\n        while (children.length > 0) {\r\n            ptr = children[0];\r\n            following.push(ptr);\r\n            children = this.buff[ptr].getChildrenPtr();\r\n        }\r\n        return [0].concat(previous).concat(following);\r\n    }\r\n\r\n    public firstLevel(): Ptr[] {\r\n        // longest no branch path\r\n        const res: Ptr[] = [];\r\n        let children = this.buff[0].getChildrenPtr();\r\n        if (children.length === 1) { // signle record\r\n            while (children.length === 1) {\r\n                res.push(children[0]);\r\n                children = this.buff[children[0]].getChildrenPtr();\r\n            }\r\n            return res;\r\n        } else {\r\n            return children;\r\n        }\r\n    }\r\n\r\n    public nextLevelOf(t: Ptr): Ptr[] {\r\n        if (t === 0) { // super node\r\n            const children = this.buff[0].getChildrenPtr();\r\n            if (children.length > 1) { // multiple record\r\n                return children;\r\n            }\r\n            return []; // single record\r\n        } else { // general node\r\n            const siblings = this.buff[this.buff[t].getParentPtr()].getChildrenPtr();\r\n            let children = this.buff[t].getChildrenPtr();\r\n            if (siblings.length === 1) {\r\n                if (children.length === 1) { // chain\r\n                    return [];\r\n                } else { // a split point\r\n                    return children;\r\n                }\r\n            } else { // siblings > 1\r\n                if (children.length === 1) { // path\r\n                    // longest no branch path\r\n                    const res: Ptr[] = [];\r\n                    while (children.length === 1) {\r\n                        res.push(children[0]);\r\n                        children = this.buff[children[0]].getChildrenPtr();\r\n                    }\r\n                    return res;\r\n                } else { // a split point\r\n                    return children;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { MOVE, PLAYER } from '../base/define';\r\n\r\nexport default abstract class Move {\r\n    public abstract player: PLAYER;\r\n    public abstract comment: string;\r\n    public abstract clone(): Move;\r\n    public abstract equal(m: Move): boolean;\r\n    public abstract show(): string;\r\n}\r\n","import Move from './Move';\r\nimport BoardMap from './BoardMap';\r\n\r\nexport type Ptr = number;\r\nexport const Nil = -1;\r\n\r\nexport class Node {\r\n    private parent: Ptr;\r\n    private move: Move;\r\n    private board: BoardMap;  // board state after move\r\n    private children: Ptr[] = [];\r\n\r\n    constructor(m: Move, board: BoardMap) {\r\n        this.move = m.clone();\r\n        this.board = board.clone();\r\n    }\r\n\r\n    public boardRef(): BoardMap {\r\n        return this.board;\r\n    }\r\n\r\n    public isRoot(): boolean {\r\n        return this.parent === Nil;\r\n    }\r\n\r\n    public isLeaf(): boolean {\r\n        return this.children.length === 0;\r\n    }\r\n\r\n    public isSame(m: Move): boolean {\r\n        return this.move.equal(m);\r\n    }\r\n\r\n    public addChildPtr(t: Ptr): void {\r\n        this.children.push(t);\r\n    }\r\n\r\n    public getChildrenPtr(): Ptr[] {\r\n        return this.children;\r\n    }\r\n\r\n    public setParentPtr(t: Ptr): void {\r\n        this.parent = t;\r\n    }\r\n\r\n    public getParentPtr(): Ptr {\r\n        return this.parent;\r\n    }\r\n\r\n    public removeChildPtr(t: Ptr): void {\r\n        this.children = this.children.filter(s => s !== t);\r\n    }\r\n\r\n    public clone(): Node {\r\n        const node = new Node(this.move, this.board);\r\n        node.parent = this.parent;\r\n        node.children = this.children.slice();\r\n        return node;\r\n    }\r\n\r\n    public moveRef(): Move {\r\n        return this.move;\r\n    }\r\n}\r\n","export default class Point {\r\n    public x: number;\r\n    public y: number;\r\n\r\n    constructor(x: number, y: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public equal(p: Point): boolean {\r\n        return this.x === p.x && this.y === p.y;\r\n    }\r\n\r\n    public clone(): Point {\r\n        return new Point(this.x, this.y);\r\n    }\r\n}\r\n","import GameState from '../base/GameState';\r\nimport Move from '../base/Move';\r\nimport { FORBIDDEN } from '../base/define';\r\nimport GameStateStack from '../base/GameStateStack';\r\n\r\nexport default abstract class Rule {\r\n    public abstract play(games: GameStateStack, m: Move): [GameState | null, FORBIDDEN];\r\n}\r\n","export default class Stack<T> {\r\n    private _store: T[] = [];\r\n    public push(val: T) {\r\n        this._store.push(val);\r\n    }\r\n    public pop(): T | null {\r\n        const top = this.top();\r\n        if (this._store.length > 0) {\r\n            this._store.length -= 1;\r\n        }\r\n        return top;\r\n    }\r\n    public empty(): boolean {\r\n        return this._store.length === 0;\r\n    }\r\n    public top(): T | null {\r\n        if (this.empty() === true) {\r\n            return null;\r\n        }\r\n        return this._store[this._store.length - 1];\r\n    }\r\n    public clear(): void {\r\n        this._store.length = 0;\r\n    }\r\n    public vaules(): T[] { // should be readonly references\r\n        return this._store;\r\n    }\r\n    get size(): number {\r\n        return this._store.length;\r\n    }\r\n}\r\n","export enum RULE {\r\n    GO,\r\n    Renju,\r\n    Gomuku,\r\n}\r\n\r\nexport enum FORMAT {\r\n    sgf,\r\n    lib,\r\n}\r\n\r\nexport enum COLOR {\r\n    Black,\r\n    White,\r\n}\r\n\r\nexport enum SHAPE {\r\n    Circle,\r\n    Indicator,\r\n    Pass,\r\n    Last,\r\n    Square,\r\n}\r\n\r\nexport enum BACKGROUND {\r\n    None,\r\n    White,\r\n    Wood,\r\n}\r\n\r\nexport enum MODE {\r\n    Edit,\r\n    Play,\r\n    ReadOnly,\r\n}\r\n\r\nexport enum FORBIDDEN {\r\n    None,\r\n    Five,  // [Renju] contentious view: Five will block open three/four by ending the game,\r\n           // as same as other forbidden fork can block open three/four by losing the game immediately.\r\n    DoubleThree, // [Renju]\r\n    DoubleFour,  // [Renju]\r\n    Overline,  // [Renju]\r\n    Suicide, // [Go] forbidden under most rule-set (JP, CN)\r\n    Repetition, // [Go] prohibit recurrences of an earlier board position,\r\n    Overlap, // stone already exist\r\n}\r\n\r\nexport enum KO {\r\n    BasicKo, // Japanese style Ko. If one player captures the ko,\r\n                // the opponent is prohibited from recapturing the ko immediately.\r\n                // Thus, the capture two, recapture one () is allowed.\r\n    PositionalSuperko, // It prohibits a board play from repeating a position,\r\n                        // regardless of whose turn it was when that position was first reached.\r\n    SituationalSuperko, // It is illegal to recreate a previous board position from the game,\r\n                        // with the same player to play.\r\n    NaturalSituationalSuperko, // A player may not use a board play to recreate a position,\r\n                                // if the player used a board play to create it.\r\n    ChineseSuperko, // A play may not recreate a previous board position\r\n                        // from the game by means of basic ko or Sending two, returning one.\r\n}\r\n\r\nexport enum SUICIDE {\r\n    Forbidden,\r\n    MoreThanOne,\r\n}\r\n\r\nexport enum OPEN3 {\r\n    RIF,\r\n    Chinese,\r\n}\r\n\r\n\r\nexport enum PLAYER {\r\n    White,\r\n    Black,\r\n}\r\n\r\nexport enum MOVE {\r\n    Board, // board play = put stone on board\r\n    Pass, // for Go\r\n    Resign, // give up\r\n    Jusge, // ask for judgement\r\n    Next, // for review mode\r\n    Mark, // for board mark\r\n    Indicator, // for mouse\r\n    Preset, // preset stones\r\n    Ready, // super root = ready to start\r\n}\r\n\r\nexport enum MARK {\r\n    Text,\r\n    Triangle,\r\n    Square,\r\n}\r\n","import Move from '../Move';\r\nimport { PLAYER, MOVE } from '../define';\r\nimport Point from '../Point';\r\n\r\nexport default class BoardPlay extends Move {\r\n    public position: Point;\r\n    public player: PLAYER;\r\n    public comment;\r\n    public step: number;\r\n\r\n    constructor(p: Point, player: PLAYER, step: number, comment: string = '') {\r\n        super();\r\n        this.position = p.clone();\r\n        this.player = player;\r\n        this.step = step;\r\n        this.comment = comment;\r\n    }\r\n\r\n    public clone(): BoardPlay {\r\n        return new BoardPlay(this.position, this.player, this.step, this.comment);\r\n    }\r\n\r\n    public isOverlap(m: BoardPlay): boolean {\r\n        return this.position.equal(m.position);\r\n    }\r\n\r\n    public equal(m: BoardPlay): boolean {\r\n        return this.position.equal(m.position) && this.player === m.player && this.step === m.step;\r\n    }\r\n\r\n    public show(): string {\r\n        return String.fromCharCode(this.position.x + 65) + (this.position.y + 1).toString();\r\n    }\r\n}\r\n","import Move from '../Move';\r\nimport { PLAYER } from '../define';\r\nimport Point from '../Point';\r\n\r\nexport default class BoardText extends Move {\r\n    public position: Point;\r\n    public player: PLAYER;\r\n    public comment;\r\n    public text: string;\r\n\r\n    constructor(p: Point, player: PLAYER, text: string, comment: string = '') {\r\n        super();\r\n        this.position = p.clone();\r\n        this.player = player;\r\n        this.text = text;\r\n        this.comment = comment;\r\n    }\r\n\r\n    public clone(): BoardText {\r\n        return new BoardText(this.position, this.player, this.text, this.comment);\r\n    }\r\n\r\n    public equal(m: BoardText) {\r\n        return this.position.equal(m.position) && this.player === m.player;\r\n    }\r\n    public show(): string {\r\n        return String.fromCharCode(this.position.x + 65) + + (this.position.y + 1).toString();\r\n    }\r\n}\r\n","import Point from '../Point';\r\nimport { FORBIDDEN, PLAYER } from '../define';\r\nimport Move from '../Move';\r\n\r\nexport default class Indicator extends Move {\r\n    public player: PLAYER;\r\n    public comment: string;\r\n    public position: Point;\r\n    public type: FORBIDDEN;\r\n\r\n    constructor(p: Point, player: PLAYER, t: FORBIDDEN = FORBIDDEN.None) {\r\n        super();\r\n        this.position = p;\r\n        this.player = player;\r\n        this.type = t;\r\n        this.comment = '';\r\n    }\r\n\r\n    public clone(): Move {\r\n        return new Indicator(this.position, this.player, this.type);\r\n    }\r\n    public equal(m: Indicator): boolean {\r\n        return this.position.equal(m.position) && this.type === m.type && this.player === m.player;\r\n    }\r\n    public show(): string {\r\n        return String.fromCharCode(this.position.x + 65) + + (this.position.y + 1).toString();\r\n    }\r\n}\r\n","import Move from '../Move';\r\nimport { PLAYER } from '../define';\r\n\r\nexport default class Pass extends Move {\r\n    public player: PLAYER;\r\n    public comment;\r\n    public step: number;\r\n\r\n    constructor(player: PLAYER, step: number, comment: string = '') {\r\n        super();\r\n        this.player = player;\r\n        this.step = step;\r\n        this.comment = comment;\r\n    }\r\n\r\n    public clone(): Pass {\r\n        return new Pass(this.player, this.step, this.comment);\r\n    }\r\n\r\n    public equal(m: Pass): boolean {\r\n        return this.player === m.player && this.step === m.step;\r\n    }\r\n    public show(): string {\r\n        return 'PASS';\r\n    }\r\n}\r\n","import Move from '../Move';\r\nimport { PLAYER } from '../define';\r\n\r\nexport default class Ready extends Move {\r\n    public player: PLAYER;\r\n    public comment: string;\r\n    constructor() {\r\n        super();\r\n        this.comment = 'Ready';\r\n    }\r\n    public clone(): Ready {\r\n        return new Ready();\r\n    }\r\n    public equal(m: Ready): boolean {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    public show(): string {\r\n        return 'Ready';\r\n    }\r\n}\r\n","import { RULE, FORBIDDEN, BACKGROUND } from '../base/define';\r\nimport Point from '../base/Point';\r\nimport GameState from '../base/GameState';\r\nimport Layout from './Layout';\r\nimport MoveTool from '../canvas/MoveTool';\r\nimport ColorTool from '../canvas/ColorTool';\r\nimport Indicator from '../base/moves/Indicator';\r\nimport BoardPlay from '../base/moves/BoardPlay';\r\nimport BoardMap from '../base/BoardMap';\r\nimport GameTree from '../base/GameTree';\r\nimport {Node} from '../base/Node';\r\n\r\nexport default class BoardTool {\r\n    public static getMousePsosition(canvas: HTMLCanvasElement, e: MouseEvent, state: GameState): Point {\r\n        const rc = canvas.getBoundingClientRect();\r\n        const real: Point = new Point(\r\n            e.clientX - rc.left,\r\n            e.clientY - rc.top);\r\n        const layout = new Layout(state.size, state.rule, canvas);\r\n        return layout.real2board(real);\r\n    }\r\n    public static render(canvas: HTMLCanvasElement , state: GameState): void {\r\n            const ctx: CanvasRenderingContext2D | null = canvas.getContext('2d');\r\n            if (ctx === null) {\r\n                return;\r\n            }\r\n            const layout = new Layout(state.size, state.rule, canvas);\r\n            BoardTool.drawBackground(ctx, state.background, canvas.width, canvas.height);\r\n            BoardTool.drawGrid(ctx, layout, state.size);\r\n            BoardTool.drawCoor(ctx, layout, state.size);\r\n            BoardTool.drawExtra(ctx, layout, state.size, state.rule);\r\n            const minStep = state.showStepLimit < 0 ? state.showStepLimit : state.nextStep() - state.showStepLimit;\r\n            BoardTool.drawStones(ctx, state.tree.lastNodeRef().boardRef(), layout, state.size, minStep);\r\n            BoardTool.drawNextMoves(ctx, state.tree, layout, state.background);\r\n            if (state.showCursor === true && state.indicator !== null) {\r\n                BoardTool.drawIndicator(ctx, state.indicator, layout);\r\n            }\r\n    }\r\n    private static drawBackground(ctx: CanvasRenderingContext2D, bg: BACKGROUND, width: number, height: number): void {\r\n        const color = ColorTool.background(bg);\r\n        if (color === 'transparent') {\r\n            ctx.clearRect(0, 0, width, height);\r\n        } else {\r\n            ctx.save();\r\n            ctx.fillStyle = color;\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.restore();\r\n        }\r\n    }\r\n    private static drawGrid(ctx: CanvasRenderingContext2D, layout: Layout, size: number): void {\r\n        ctx.beginPath();\r\n        for (let i = 0; i < size; i++) {\r\n            ctx.moveTo(layout.padding, layout.padding + i * layout.grid);\r\n            ctx.lineTo(layout.padding + layout.height, layout.padding + i * layout.grid);\r\n\r\n            ctx.moveTo(layout.padding + i * layout.grid, layout.padding);\r\n            ctx.lineTo(layout.padding + i * layout.grid, layout.padding + layout.width);\r\n        }\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n    }\r\n\r\n    private static drawCoor(ctx: CanvasRenderingContext2D, layout: Layout, size: number): void {\r\n        ctx.save();\r\n        ctx.font = Math.floor(layout.grid * 0.618) + 'px Arial';\r\n        ctx.fillStyle = '#000';\r\n        ctx.strokeStyle = '#000';\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n        for (let i = 0; i < size; i++) {\r\n            ctx.fillText(String.fromCharCode(i + 65), layout.padding + i * layout.grid, layout.grid);\r\n            ctx.fillText((size - i).toString(), layout.grid, layout.padding + i * layout.grid);\r\n            ctx.fillText(String.fromCharCode(i + 65),\r\n                layout.padding + i * layout.grid,\r\n                layout.padding + layout.height + layout.grid);\r\n            ctx.fillText((size - i).toString(),\r\n                layout.padding + layout.width + layout.grid,\r\n                layout.padding + i * layout.grid);\r\n        }\r\n        ctx.restore();\r\n    }\r\n\r\n    private static drawPoint(ctx: CanvasRenderingContext2D, layout: Layout, p: Point): void {\r\n        ctx.save();\r\n        ctx.strokeStyle = '#000';\r\n        ctx.fillStyle = '#000';\r\n        ctx.beginPath();\r\n        ctx.arc(layout.padding + (p.x - 1) * layout.grid,\r\n            layout.padding + (p.y - 1) * layout.grid,\r\n            0.1 * layout.grid,\r\n            0,\r\n            Math.PI * 2.0);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n        ctx.restore();\r\n    }\r\n\r\n    private static drawExtra(ctx: CanvasRenderingContext2D, layout: Layout, size: number, rule: RULE) {\r\n        switch (rule) {\r\n            case RULE.GO:\r\n                switch (size) {\r\n                    case 19:\r\n                        [4, 10, 16].forEach((x, i, a) =>\r\n                            a.forEach((y) => BoardTool.drawPoint(ctx, layout, new Point(x, y))));\r\n                        break;\r\n                    case 13:\r\n                        [4, 7, 10].forEach((x, i, a) =>\r\n                            a.forEach((y) => BoardTool.drawPoint(ctx, layout, new Point(x, y))));\r\n                        break;\r\n                    case 9:\r\n                        [3, 7].forEach((x, i, a) =>\r\n                            a.forEach((y) => BoardTool.drawPoint(ctx, layout, new Point(x, y))));\r\n                        BoardTool.drawPoint(ctx, layout, new Point(5, 5));\r\n                        break;\r\n                    default:\r\n                }\r\n                break;\r\n            case RULE.Renju:\r\n                // fall through\r\n            case RULE.Gomuku:\r\n                switch (size) {\r\n                    case 15:\r\n                        [4, 12].forEach((x, i, a) => a.forEach((y) =>\r\n                            BoardTool.drawPoint(ctx, layout, new Point(x, y))));\r\n                        BoardTool.drawPoint(ctx, layout, new Point(8, 8));\r\n                        break;\r\n                    default:\r\n                }\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    private static drawStones(ctx: CanvasRenderingContext2D,\r\n        board: BoardMap,\r\n        layout: Layout,\r\n        size: number,\r\n        minStep: number): void {\r\n        for (let i = 0; i < size; i++) {\r\n            for (let j = 0; j < size; j++) {\r\n                const p = new Point(i, j);\r\n                const move = board.at(p);\r\n                const centre = layout.board2real(p);\r\n                if (null !== move) {\r\n                    MoveTool.render(ctx, centre, layout.radius, move, board.isLast(p), move.step >= minStep);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static drawNextMoves(ctx: CanvasRenderingContext2D,\r\n        tree: GameTree,\r\n        layout: Layout,\r\n        bg: BACKGROUND): void {\r\n        const childrenPtr = tree.lastNodeRef().getChildrenPtr();\r\n        const player = tree.lastNodeRef().moveRef().player;\r\n        for (let i = 0; i < childrenPtr.length; i++) {\r\n            const move = tree.findPtr(childrenPtr[i]).moveRef();\r\n            if (move instanceof BoardPlay) {\r\n                const position = move.position;\r\n                if (position !== null) {\r\n                    const centre = layout.board2real(position);\r\n                    const width = layout.radius * 1.414;\r\n                    const height = layout.radius * 1.414;\r\n                    const color = ColorTool.background(bg);\r\n\r\n                    if (color === 'transparent') {\r\n                        ctx.clearRect(centre.x - width * 0.5, centre.y - height * 0.5, width, height);\r\n                    } else {\r\n                        ctx.save();\r\n                        ctx.fillStyle = color;\r\n                        ctx.fillRect(centre.x - width * 0.5, centre.y - height * 0.5, width, height);\r\n                        ctx.restore();\r\n                    }\r\n                    MoveTool.drawText(ctx, centre, layout.radius, String.fromCharCode(65 + i), player);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static drawIndicator(ctx: CanvasRenderingContext2D,\r\n        indicator: Indicator,\r\n        layout: Layout): void {\r\n        if (indicator.type === FORBIDDEN.Overlap) {\r\n            return;\r\n        }\r\n        if (indicator.type === FORBIDDEN.None) {\r\n            ctx.save();\r\n            // style\r\n            ctx.fillStyle = ColorTool.indicator(indicator.player);\r\n            // position\r\n            const centre = layout.board2real(indicator.position);\r\n            ctx.beginPath();\r\n            ctx.arc(centre.x,\r\n                centre.y,\r\n                layout.radius,\r\n                0,\r\n                Math.PI * 2.0);\r\n            ctx.closePath();\r\n            ctx.stroke();\r\n            ctx.fill();\r\n            ctx.restore();\r\n        } else {\r\n            BoardTool.drawForbidden(ctx, indicator.position, layout);\r\n        }\r\n    }\r\n\r\n    private static drawForbidden(ctx: CanvasRenderingContext2D,\r\n        p: Point,\r\n        layout: Layout): void {\r\n        const centre = layout.board2real(p);\r\n        const half = 1.414 * layout.radius * 0.5;\r\n        ctx.save();\r\n        ctx.strokeStyle = '#f00';\r\n        ctx.fillStyle = '#f00';\r\n        ctx.beginPath();\r\n        ctx.moveTo(centre.x - half, centre.y - half);\r\n        ctx.lineTo(centre.x + half, centre.y + half);\r\n        ctx.moveTo(centre.x + half, centre.y - half);\r\n        ctx.lineTo(centre.x - half, centre.y + half);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n}\r\n","import { PLAYER, BACKGROUND } from '../base/define';\r\n\r\nexport default class ColorTool {\r\n\r\n    public static stone(p: PLAYER): string {\r\n        return p === PLAYER.White ? '#fff' : '#000';\r\n    }\r\n\r\n    public static text(p: PLAYER): string {\r\n        return p === PLAYER.White ? '#000' : '#fff';\r\n    }\r\n\r\n    public static last(p: PLAYER): string {\r\n        return ColorTool.text(p);\r\n    }\r\n\r\n    public static indicator(p: PLAYER): string {\r\n        return p === PLAYER.White ? 'rgba(255,255,255,0.3)' : 'rgba(0, 0, 0, 0.3)';\r\n    }\r\n\r\n    public static background(bg: BACKGROUND): string {\r\n        switch (bg) {\r\n            case BACKGROUND.Wood:\r\n                return '#ffcc66';\r\n            case BACKGROUND.White:\r\n                return '#fff';\r\n        }\r\n        return 'transparent';\r\n    }\r\n}\r\n","import { RULE } from '../base/define';\r\nimport Point from '../base/Point';\r\n\r\nexport default class Layout {\r\n    public size: number;\r\n    public grid: number;\r\n    public radius: number;\r\n    public width: number;\r\n    public height: number;\r\n    public padding: number;\r\n\r\n    constructor(size: number, rule: RULE, canvas: HTMLCanvasElement);\r\n    constructor(layout: Layout);\r\n    constructor(sizeOrLayout: number | Layout, rule?: RULE, canvas?: HTMLCanvasElement) {\r\n        if (typeof (sizeOrLayout) === 'number' && rule !== undefined && canvas !== undefined) {\r\n            const size = sizeOrLayout;\r\n            this.size = size;\r\n            this.grid = Math.min(canvas.width, canvas.height) / (size - 1 + 4);\r\n            this.radius = 0.45 * this.grid;\r\n            this.width = this.grid * (size - 1);\r\n            this.height = this.grid * (size - 1);\r\n            this.padding = 2 * this.grid;\r\n        } else {\r\n            const layout = sizeOrLayout as Layout;\r\n            this.size = layout.size;\r\n            this.grid = layout.grid;\r\n            this.radius = layout.radius;\r\n            this.width = layout.width;\r\n            this.height = layout.height;\r\n            this.padding = layout.padding;\r\n        }\r\n    }\r\n\r\n    public real2board(p: Point): Point {\r\n        const x = p.x - this.padding;\r\n        const y = p.y - this.padding;\r\n\r\n        return new Point(\r\n            Math.floor((x + 0.5 * this.grid) / this.grid),\r\n            this.size - Math.floor((y + 0.5 * this.grid) / this.grid) - 1);\r\n    }\r\n\r\n    public board2real(p: Point): Point {\r\n        return new Point(\r\n            this.padding + p.x * this.grid,\r\n            this.padding + (this.size - 1 - p.y) * this.grid);\r\n    }\r\n\r\n    public clone(): Layout {\r\n        return new Layout(this);\r\n    }\r\n}\r\n","import { COLOR, SHAPE, PLAYER } from '../base/define';\r\nimport Point from '../base/Point';\r\nimport Move from '../base/Move';\r\nimport ColorTool from '../canvas/ColorTool';\r\nimport BoardPlay from '../base/moves/BoardPlay';\r\nimport BoardText from '../base/moves/BoardText';\r\n\r\nexport default class MoveTool {\r\n\r\n    public static render(ctx: CanvasRenderingContext2D,\r\n        centre: Point,\r\n        radius: number,\r\n        move: Move,\r\n        isLast: boolean,\r\n        showStep = true): void {\r\n        if (move instanceof BoardPlay) {\r\n            MoveTool.drawCircle(ctx, centre, radius, move.player, isLast);\r\n            if (showStep === true) {\r\n                MoveTool.drawStep(ctx, centre, radius, move.step, move.player);\r\n            }\r\n        } else if (move instanceof BoardText) {\r\n            MoveTool.drawText(ctx, centre, radius, move.text, move.player);\r\n        }\r\n    }\r\n\r\n    private static drawCircle(ctx: CanvasRenderingContext2D,\r\n        centre: Point,\r\n        radius: number,\r\n        player: PLAYER,\r\n        isLast: boolean): void {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        ctx.arc(centre.x, centre.y, radius, 0, Math.PI * 2.0);\r\n        ctx.fillStyle = ColorTool.stone(player);\r\n        ctx.strokeStyle = '#000';\r\n        ctx.closePath();\r\n        ctx.fill();\r\n        ctx.stroke();\r\n        if (isLast === true) {\r\n            ctx.beginPath();\r\n            ctx.arc(centre.x, centre.y, 0.8 * radius, 0, Math.PI * 2.0);\r\n            ctx.strokeStyle = ColorTool.text(player);\r\n            ctx.closePath();\r\n            ctx.stroke();\r\n        }\r\n        ctx.restore();\r\n    }\r\n\r\n    private static drawSquare(ctx: CanvasRenderingContext2D, centre: Point, radius: number, player: PLAYER): void {\r\n        ctx.save();\r\n        ctx.fillStyle = ColorTool.stone(player);\r\n        ctx.strokeStyle = '#000';\r\n        const left = centre.x - radius;\r\n        const top = centre.y - radius;\r\n        const size = 2.0 * radius;\r\n        ctx.fillRect(left, top, size, size);\r\n        ctx.strokeRect(left, top, size, size);\r\n        ctx.restore();\r\n    }\r\n\r\n    public static drawText(ctx: CanvasRenderingContext2D,\r\n        centre: Point,\r\n        radius: number,\r\n        text: string,\r\n        player: PLAYER): void {\r\n        ctx.save();\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.fillStyle = ColorTool.text(player);\r\n        if (text !== null) {\r\n            const fontSize: number = Math.floor(radius * 1.414 / text.length);\r\n            ctx.font = fontSize + 'px Arial';\r\n            ctx.fillText(text, centre.x, centre.y);\r\n        }\r\n        ctx.restore();\r\n    }\r\n\r\n    private static drawStep(\r\n        ctx: CanvasRenderingContext2D,\r\n        centre: Point,\r\n        radius: number,\r\n        step: number,\r\n        player: PLAYER): void {\r\n        ctx.save();\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.fillStyle = ColorTool.text(player);\r\n        const fontSize: number = Math.floor(radius * 1.414 * 0.9);\r\n        ctx.font = fontSize + 'px Arial';\r\n        const label: string = step.toString();\r\n        if (label.length < 2) {\r\n            ctx.fillText(label, centre.x, centre.y);\r\n        } else { // adjust width to show numbers with more than one digits\r\n            const width: number = ctx.measureText(label).width;\r\n            const scale: number = fontSize / width;\r\n            ctx.save();\r\n            ctx.translate(centre.x, centre.y);\r\n            ctx.scale(scale, 1);\r\n            ctx.fillText(label, 0, 0);\r\n            ctx.restore();\r\n        }\r\n        ctx.restore();\r\n    }\r\n}\r\n","import Command from '../base/Command';\r\nimport GameStateStack from '../base/GameStateStack';\r\n\r\nexport default class ChangeStepLimit extends Command {\r\n    public subCommand = false;\r\n    public allowUndo = true;\r\n    private limit: number;\r\n    private states: GameStateStack;\r\n    private old: number; // instead of create a new GameState\r\n    constructor(states: GameStateStack, limit: number) {\r\n        super();\r\n        this.limit = limit;\r\n        this.states = states;\r\n        this.old = this.states.current().showStepLimit;\r\n    }\r\n    public execute(): void {\r\n        this.states.current().showStepLimit = this.limit;\r\n    }\r\n    public undo(): void {\r\n        this.states.current().showStepLimit = this.old;\r\n    }\r\n    public redo(): void {\r\n        this.states.current().showStepLimit = this.limit;\r\n    }\r\n}\r\n","import Command from '../base/Command';\r\nimport BoardTool from '../canvas/BoardTool';\r\nimport GameStateStack from '../base/GameStateStack';\r\nimport Point from '../base/Point';\r\nimport { MODE, FORBIDDEN } from '../base/define';\r\nimport GameState from '../base/GameState';\r\nimport BoardPlay from '../base/moves/BoardPlay';\r\n\r\nexport default class ClickBoard extends Command {\r\n    public subCommand = false;\r\n    public allowUndo = true;\r\n    private states: GameStateStack;\r\n    private nextState: GameState | null = null;\r\n    constructor(states: GameStateStack, p: Point) {\r\n        super();\r\n        this.states = states;\r\n        this.nextState = this.getNext(p);\r\n    }\r\n    public execute(): void {\r\n        if (this.nextState !== null) {\r\n            this.states.push(this.nextState);\r\n        }\r\n    }\r\n    public undo(): void {\r\n        if (this.nextState !== null) {\r\n            this.states.pop();\r\n        }\r\n    }\r\n    public redo(): void {\r\n        if (this.nextState !== null) {\r\n            this.states.push(this.nextState);\r\n        }\r\n    }\r\n\r\n    private getNext(p: Point): GameState | null {\r\n        const current = this.states.current();\r\n\r\n        if (current.mode === MODE.Play) {\r\n            if (current.isOutBoard(p)) {\r\n                return null;\r\n            } else if (current.at(p) !== null) {\r\n                return null;\r\n            } else {\r\n                const player = current.nextPlayer();\r\n                const move = new BoardPlay(p, player, current.nextStep());\r\n                const [g, f] = this.states.checker.play(this.states, move);\r\n                if (f !== FORBIDDEN.None || g === null) {\r\n                    return null;\r\n                } else {\r\n                    return g;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n","import Command from '../base/Command';\r\nimport GameStateStack from '../base/GameStateStack';\r\nimport { Ptr } from '../base/Node';\r\n\r\nexport default class Goto extends Command {\r\n    public subCommand = false;\r\n    public allowUndo = true;\r\n    private states: GameStateStack;\r\n    private current: Ptr;\r\n    constructor(states: GameStateStack, ptr: Ptr) {\r\n        super();\r\n        this.states = states;\r\n        this.current = ptr;\r\n    }\r\n    public execute(): void {\r\n        const s = this.states.current().clone();\r\n        s.tree.setLastPtr(this.current);\r\n        this.states.push(s);\r\n    }\r\n\r\n    public undo(): void {\r\n        this.states.pop();\r\n    }\r\n    public redo(): void {\r\n        this.execute();\r\n    }\r\n}\r\n","import Command from '../base/Command';\r\nimport Point from '../base/Point';\r\nimport Indicator from '../base/moves/Indicator';\r\nimport BoardTool from '../canvas/BoardTool';\r\nimport GameStateStack from '../base/GameStateStack';\r\nimport BoardPlay from '../base/moves/BoardPlay';\r\nimport { FORBIDDEN } from '../base/define';\r\n\r\nexport default class MouseUpdate extends Command {\r\n    public allowUndo = false;\r\n    public subCommand = false;\r\n    private states: GameStateStack;\r\n    private position: Point;\r\n    constructor(states: GameStateStack, p: Point) {\r\n        super();\r\n        this.states = states;\r\n        this.position = p;\r\n    }\r\n    public execute(): void {\r\n        const current = this.states.current();\r\n        const player = current.nextPlayer();\r\n        if (current.isOutBoard(this.position)) {\r\n            // out of board, no indicator\r\n            current.indicator = null;\r\n        } else if (current.at(this.position) !== null) {\r\n            // over a stone, no indicator\r\n            current.indicator = new Indicator(this.position, player, FORBIDDEN.Overlap);\r\n        } else {\r\n            if (current.indicator !== null) {\r\n                // no need update\r\n                if (current.indicator.position.equal(this.position)) {\r\n                    return;\r\n                }\r\n            }\r\n            // update indicator\r\n            const m = new BoardPlay(this.position, player, current.nextStep());\r\n            current.indicator = new Indicator(this.position, player, this.states.forbiddenMove(m));\r\n        }\r\n    }\r\n    public undo(): void {\r\n        throw new Error('Mouse Event need not a backup!');\r\n    }\r\n    public redo(): void {\r\n        throw new Error('Mouse Event need not a backup!');\r\n    }\r\n}\r\n","import Command from '../base/Command';\r\nimport { BACKGROUND } from '../base/define';\r\nimport GameState from '../base/GameState';\r\nimport GameStateStack from '../base/GameStateStack';\r\nimport BoardTool from '../canvas/BoardTool';\r\n\r\nexport default class UpdateBackground extends Command {\r\n    public subCommand = false;\r\n    public allowUndo = true;\r\n    private background: BACKGROUND;\r\n    private states: GameStateStack;\r\n    private old: BACKGROUND; // instead of create a new GameState\r\n    constructor(states: GameStateStack, bg: BACKGROUND) {\r\n        super();\r\n        this.background = bg;\r\n        this.states = states;\r\n        this.old = this.states.current().background;\r\n    }\r\n    public execute(): void {\r\n        this.states.current().background = this.background;\r\n    }\r\n    public undo(): void {\r\n        this.states.current().background = this.old;\r\n    }\r\n    public redo(): void {\r\n        this.states.current().background = this.background;\r\n    }\r\n}\r\n","import { SUICIDE, KO, FORBIDDEN, MOVE } from '../base/define';\r\nimport Point from '../base/Point';\r\nimport GameState from '../base/GameState';\r\nimport Move from '../base/Move';\r\nimport Rule from '../base/Rule';\r\nimport GameStateStack from '../base/GameStateStack';\r\nimport BoardPlay from '../base/moves/BoardPlay';\r\nimport GameTree from '../base/GameTree';\r\n\r\nexport default class Go extends Rule {\r\n    private sucide: SUICIDE;\r\n    private ko: KO;\r\n\r\n    constructor(sucide = SUICIDE.Forbidden, ko = KO.BasicKo) {\r\n        super();\r\n        this.sucide = sucide;\r\n        this.ko = ko;\r\n    }\r\n\r\n    public play(states: GameStateStack, m: Move): [GameState | null, FORBIDDEN] {\r\n        const next = states.current().clone();\r\n        next.move(m); // support no dead\r\n\r\n        if (states.size < 2) {\r\n            return [next, FORBIDDEN.None];\r\n        }\r\n        if (m instanceof BoardPlay) {\r\n            // 1, BFS, find possible killed\r\n            const [possibleKilled, block, possibleSuicide] = this.find(next, m);\r\n            // 2, BFS, remove killed\r\n            this.clean(next, possibleKilled);\r\n            // 3, check suicide\r\n            if (possibleSuicide === true) {\r\n                let suicide = true;\r\n                for (const p of possibleKilled) {\r\n                    if (next.at(p) === null) {\r\n                        suicide = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (suicide === true) {\r\n                    if (this.sucide === SUICIDE.Forbidden) {\r\n                        return [null, FORBIDDEN.Suicide];\r\n                    } else if (this.sucide === SUICIDE.MoreThanOne) {\r\n                        if (block.length > 1) {\r\n                            this.clean(next, block);\r\n                            return [next, FORBIDDEN.None];\r\n                        } else {\r\n                            return [null, FORBIDDEN.Suicide];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // 4, check ko\r\n            if (this.breakKoRule(states.current().tree, next)) {\r\n                return [null, FORBIDDEN.Repetition];\r\n            }\r\n        }\r\n        return [next, FORBIDDEN.None];\r\n    }\r\n    // remove stones\r\n    private clean(game: GameState, possible: Point[]): void {\r\n        const size = game.size;\r\n        const searched: boolean[][] = Array(size).fill(0).map(() => Array(size).fill(false));\r\n        for (const q of possible) { // from a position with possibly dead stone\r\n            // (adjacent positions to the block containing last move)\r\n            if (searched[q.x][q.y] === true) {\r\n                continue;\r\n            }\r\n            const s = game.at(q);\r\n            if (s === null) { // no stone\r\n                continue;\r\n            }\r\n            const [bound, block, tight] = this.find(game, s);\r\n            if (tight === true) {\r\n                for (const o of block) {\r\n                    game.tree.lastNodeRef().boardRef().removeDead(o);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private breakKoRule(tree: GameTree, game: GameState): boolean {\r\n        const nodes = tree.getPath(tree.getLastPtr());\r\n        if (nodes.length < 2) {\r\n            return false;\r\n        }\r\n        if (this.ko === KO.BasicKo) {\r\n            return nodes[nodes.length - 2].boardRef().isSame(game.tree.lastNodeRef().boardRef());\r\n        } else if (this.ko === KO.PositionalSuperko) {\r\n            for (const g of nodes) {\r\n                if (g.boardRef().isSame(game.tree.lastNodeRef().boardRef())) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        } else if (this.ko === KO.SituationalSuperko) {\r\n            for (let i = nodes.length - 2; i >= 0; i -= 2) {\r\n                if (nodes[i].boardRef().isSame(game.tree.lastNodeRef().boardRef())) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        } else if (this.ko === KO.NaturalSituationalSuperko) {\r\n            for (let i = nodes.length - 2; i >= 0; i -= 2) {\r\n                if (nodes[i].moveRef() instanceof BoardPlay) {\r\n                    if (nodes[i].boardRef().isSame(game.tree.lastNodeRef().boardRef())) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private find(g: GameState, m: BoardPlay): [Point[], Point[], boolean] {\r\n        const size = g.size;\r\n        const searched: boolean[][] = Array(size).fill(0).map(() => Array(size).fill(false));\r\n        const bound: Point[] = [];\r\n        let tight = true;\r\n        const Q: Point[] = [m.position];\r\n        let head = 0;\r\n        while (head < Q.length) {\r\n            const q = Q[head++];\r\n            for (const [dx, dy] of [[1, 0], [-1, 0], [0, 1], [0, -1]]) {\r\n                const x = q.x + dx;\r\n                const y = q.y + dy;\r\n                if (x < 0 || x >= size || y < 0 || y >= size) {\r\n                    continue;\r\n                }\r\n                if (searched[x][y] !== true) {\r\n                    const t = g.at(new Point(x, y));\r\n                    if (t === null) {\r\n                        tight = false;\r\n                    } else {\r\n                        if (t.player === m.player) {\r\n                            Q.push(new Point(x, y));\r\n                        } else {\r\n                            bound.push(new Point(x, y));\r\n                        }\r\n                    }\r\n                    searched[x][y] = true;\r\n                }\r\n            }\r\n        }\r\n        return [bound, Q, tight];\r\n    }\r\n}\r\n","import { FORBIDDEN, SHAPE, OPEN3, PLAYER } from '../base/define';\r\nimport Point from '../base/Point';\r\nimport Move from '../base/Move';\r\nimport Rule from '../base/Rule';\r\nimport GameStateStack from '../base/GameStateStack';\r\nimport GameState from '../base/GameState';\r\nimport BoardPlay from '../base/moves/BoardPlay';\r\n\r\nexport default class Gomuku extends Rule {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public play(games: GameStateStack, m: Move): [GameState | null, FORBIDDEN] {\r\n        if (m instanceof BoardPlay) {\r\n            const g = games.current().clone();\r\n            g.move(m);\r\n            return [g, FORBIDDEN.None];\r\n        }\r\n        return [null, FORBIDDEN.None];\r\n    }\r\n}\r\n","import { FORBIDDEN, SHAPE, OPEN3, PLAYER } from '../base/define';\r\nimport Point from '../base/Point';\r\nimport Move from '../base/Move';\r\nimport Rule from '../base/Rule';\r\nimport GameStateStack from '../base/GameStateStack';\r\nimport GameState from '../base/GameState';\r\nimport BoardPlay from '../base/moves/BoardPlay';\r\n\r\nconst enum PATTERN {\r\n    Three,\r\n    Four,\r\n}\r\n\r\nexport default class Renju extends Rule {\r\n    private open3: OPEN3 = OPEN3.RIF;\r\n\r\n    constructor(open3 = OPEN3.RIF) {\r\n        super();\r\n        this.open3 = open3;\r\n    }\r\n\r\n    public play(games: GameStateStack, m: Move): [GameState | null, FORBIDDEN] {\r\n        if (m instanceof BoardPlay) {\r\n            const game = games.current().clone();\r\n            let f = FORBIDDEN.None;\r\n            if (m.player === PLAYER.Black) {\r\n                f = this.test(game, m.position);\r\n                if (f === FORBIDDEN.Five) {\r\n                    f = FORBIDDEN.None;\r\n                }\r\n            }\r\n            if (f === FORBIDDEN.None) {\r\n                const g = games.current().clone();\r\n                g.move(m);\r\n                return [g, f];\r\n            }\r\n            return [null, f];\r\n        }\r\n        return [null, FORBIDDEN.None];\r\n    }\r\n\r\n\r\n    private test(game: GameState | null, p: Point): FORBIDDEN {\r\n        if (game === null) {\r\n            return FORBIDDEN.None;\r\n        }\r\n        const adjSame: number[] = Array(8).fill(0);\r\n        const adjEmpty: number[] = Array(8).fill(0);\r\n        const jumpSame: number[] = Array(8).fill(0);\r\n        const jumpEmpty: number[] = Array(8).fill(0);\r\n        const jumpJumpSame: number[] = Array(8).fill(0);\r\n        const d = [[0, 1], [1, 1], [1, 0], [1, -1], [0, -1], [-1, -1], [-1, 0], [-1, 1]];\r\n        const size = game.size;\r\n        for (let dir = 0; dir < 8; dir++) {\r\n            const [dx, dy] = d[dir];\r\n            let q = new Point(p.x + dx, p.y + dy);\r\n            while (!this.outBoard(q, size) && game.isPositionPlayer(q, PLAYER.Black)) {\r\n                adjSame[dir] += 1;\r\n                q = new Point(q.x + dx, q.y + dy);\r\n            }\r\n            while (!this.outBoard(q, size) && game.isPositionEmpty(q)) {\r\n                adjEmpty[dir] += 1;\r\n                q = new Point(q.x + dx, q.y + dy);\r\n            }\r\n            while (!this.outBoard(q, size) && game.isPositionPlayer(q, PLAYER.Black)) {\r\n                jumpSame[dir] += 1;\r\n                q = new Point(q.x + dx, q.y + dy);\r\n            }\r\n            while (!this.outBoard(q, size) && game.isPositionEmpty(q)) {\r\n                jumpEmpty[dir] += 1;\r\n                q = new Point(q.x + dx, q.y + dy);\r\n            }\r\n            while (!this.outBoard(q, size) && game.isPositionPlayer(q, PLAYER.Black)) {\r\n                jumpJumpSame[dir] += 1;\r\n                q = new Point(q.x + dx, q.y + dy);\r\n            }\r\n        }\r\n        // five\r\n        for (let dir = 0; dir < 4; dir++) {\r\n            if (adjSame[dir] + adjSame[dir + 4] === 4) {\r\n                return FORBIDDEN.Five;\r\n            }\r\n        }\r\n\r\n        let three = 0;\r\n        let four = 0;\r\n        for (let dir = 0; dir < 4; dir++) {\r\n            const row = adjSame[dir] + 1 + adjSame[dir + 4];\r\n            // overline?\r\n            if (row > 5) {\r\n                return FORBIDDEN.Overline;\r\n            }\r\n            if (row === 4) { // .oooo.\r\n                // open four? (two side empty)\r\n                // half open four? (one side empty)\r\n                let isFour = false;\r\n                if (adjEmpty[dir] > 0) { // left, ?oooO. / ?ooOo.\r\n                    if (this.check(game, p, d[dir].map((a) => a * (adjSame[dir] + 1)), PATTERN.Four)) {\r\n                        isFour = true;\r\n                    }\r\n                }\r\n                if (adjEmpty[dir + 4] > 0) { // right, .oooo?\r\n                    if (this.check(game, p, d[dir + 4].map((a) => a * (adjSame[dir + 4] + 1)), PATTERN.Four)) {\r\n                        isFour = true;\r\n                    }\r\n                }\r\n                if (isFour) {\r\n                    four += 1;\r\n                }\r\n            } else if (row === 3) { // .ooo.\r\n                // half open four?\r\n                if (adjEmpty[dir] === 1 && jumpSame[dir] === 1) { // left, .o?oOo. / .o?ooO.\r\n                    if (this.check(game, p, d[dir].map((a) => a * (adjSame[dir] + 1)), PATTERN.Four)) {\r\n                        four += 1;\r\n                    }\r\n                }\r\n                if (adjEmpty[dir + 4] === 1 && jumpSame[dir + 4] === 1) { // right, .ooo?o.\r\n                    if (this.check(game, p, d[dir + 4].map((a) => a * (adjSame[dir + 4] + 1)), PATTERN.Four)) {\r\n                        four += 1;\r\n                    }\r\n                }\r\n                // open three?\r\n                let isThree = false;\r\n                if ((adjEmpty[dir] > 2 // left open, ...ooo.\r\n                    || adjEmpty[dir] === 2 && jumpSame[dir] === 0) // left open, x.?ooo.\r\n                    && (adjEmpty[dir + 4] > 1 // right open, .ooo...\r\n                        || adjEmpty[dir + 4] === 1 && jumpSame[dir + 4] === 0)) { // right open, ?ooo.x\r\n                    if (this.check(game, p, d[dir].map((a) => a * (adjSame[dir] + 1)), PATTERN.Three)) {\r\n                        isThree = true;\r\n                    }\r\n                }\r\n                if ((adjEmpty[dir + 4] > 2 // right open, .ooo?..\r\n                    || adjEmpty[dir + 4] === 2 && jumpSame[dir + 4] === 0) // right open, .ooo?.x\r\n                    && (adjEmpty[dir] > 1 // left open, ...ooo.\r\n                        || adjEmpty[dir] === 1 && jumpSame[dir] === 0)) { // left open, x.ooo?\r\n                    if (this.check(game, p, d[dir + 4].map((a) => a * (adjSame[dir + 4] + 1)), PATTERN.Three)) {\r\n                        isThree = true;\r\n                    }\r\n                }\r\n                if (isThree) {\r\n                    three += 1;\r\n                }\r\n            } else if (row === 2) { // .oo.\r\n                // four?\r\n                if (adjEmpty[dir] === 1 && jumpSame[dir] === 2) { // xoo?oO. or .oo?oO.\r\n                    if (this.check(game, p, d[dir].map((a) => a * (adjSame[dir] + 1)), PATTERN.Four)) {\r\n                        four += 1;\r\n                    }\r\n                }\r\n                if (adjEmpty[dir + 4] === 1 && jumpSame[dir + 4] === 2) { // .Oo?oox or .Oo?oo.\r\n                    if (this.check(game, p, d[dir + 4].map((a) => a * (adjSame[dir + 4] + 1)), PATTERN.Four)) {\r\n                        four += 1;\r\n                    }\r\n                }\r\n                // three\r\n                // .?o.oO..\r\n                // x?o.oO..\r\n                // .?o.oO.x\r\n                //  x?o.oO.x\r\n                if (adjEmpty[dir] === 1 && jumpSame[dir] === 1 &&\r\n                    (jumpEmpty[dir] > 1 || jumpEmpty[dir] === 1 && jumpJumpSame[dir] === 0) &&\r\n                    (adjEmpty[dir + 4] > 1 || adjEmpty[dir + 4] === 1 && jumpSame[dir + 4] === 0)) {\r\n                    if (this.check(game, p, d[dir].map((a) => a * (adjSame[dir] + 1)), PATTERN.Three)) {\r\n                        three += 1;\r\n                    }\r\n                }\r\n                if (adjEmpty[dir + 4] === 1 && jumpSame[dir + 4] === 1 &&\r\n                    (jumpEmpty[dir + 4] > 1 || jumpEmpty[dir + 4] === 1 && jumpJumpSame[dir + 4] === 0) &&\r\n                    (adjEmpty[dir] > 1 || adjEmpty[dir] === 1 && jumpSame[dir] === 0)) {\r\n                    if (this.check(game, p, d[dir + 4].map((a) => a * (adjSame[dir + 4] + 1)), PATTERN.Three)) {\r\n                        three += 1;\r\n                    }\r\n                }\r\n            } else if (row === 1) { // .o.\r\n                // four\r\n                if (jumpEmpty[dir] === 1 && jumpSame[dir] === 3) { // xooo?O. or .ooo?O.\r\n                    if (this.check(game, p, d[dir], PATTERN.Four)) {\r\n                        four += 1;\r\n                    }\r\n                }\r\n                if (jumpEmpty[dir + 4] === 1 && jumpSame[dir + 4] === 3) { // xooo?O. or .ooo?O.\r\n                    if (this.check(game, p, d[dir + 4], PATTERN.Four)) {\r\n                        four += 1;\r\n                    }\r\n                }\r\n                // three\r\n                // .oo.o.\r\n                if (adjEmpty[dir] === 1 && jumpSame[dir] === 2 &&\r\n                    (jumpEmpty[dir] > 1 || jumpEmpty[dir] === 1 && jumpJumpSame[dir] === 0) &&\r\n                    (adjEmpty[dir + 4] > 1 || adjEmpty[dir + 4] === 1 && jumpSame[dir + 4] === 0)) {\r\n                    if (this.check(game, p, d[dir], PATTERN.Three)) {\r\n                        three += 1;\r\n                    }\r\n                }\r\n                if (adjEmpty[dir + 4] === 1 && jumpSame[dir + 4] === 2 &&\r\n                    (jumpEmpty[dir + 4] > 1 || jumpEmpty[dir + 4] === 1 && jumpJumpSame[dir + 4] === 0) &&\r\n                    (adjEmpty[dir] > 1 || adjEmpty[dir] === 1 && jumpSame[dir] === 0)) {\r\n                    if (this.check(game, p, d[dir + 4], PATTERN.Three)) {\r\n                        three += 1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (four > 1) {\r\n            return FORBIDDEN.DoubleFour;\r\n        }\r\n        if (three > 1) {\r\n            return FORBIDDEN.DoubleThree;\r\n        }\r\n        return FORBIDDEN.None;\r\n    }\r\n    private outBoard(p: Point, size: number): boolean {\r\n        return p.x < 0 || p.x >= size || p.y < 0 || p.y >= size;\r\n    }\r\n    private check(game: GameState, p: Point, d: number[], checkfor: PATTERN): boolean {\r\n        const m = new BoardPlay(p, PLAYER.Black, game.nextStep());\r\n        game.move(m);\r\n        const [dx, dy] = d;\r\n        const result = this.test(game, new Point(p.x + dx, p.y + dy));\r\n        game.undoLastMove();\r\n        if (this.open3 === OPEN3.RIF) {\r\n            if (checkfor === PATTERN.Three) {\r\n                return result === FORBIDDEN.None || result !== FORBIDDEN.Five;\r\n            }\r\n            return result === FORBIDDEN.None || result === FORBIDDEN.Five;\r\n        }\r\n        return result === FORBIDDEN.None || result === FORBIDDEN.Five;\r\n    }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, for easier debugging, you can ignore zone related error\n * stack frames such as `zone.run`/`zoneDelegate.invokeTask` by importing the\n * below file. Don't forget to comment it out in production mode\n * because it will have a performance impact when errors are thrown\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}